"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9136],{19136:function(e,t,n){n.d(t,{Z:function(){return C}});n(18509),n(58109),n(68438),n(83464),n(19496);var r=n(4942),i=(n(30666),n(95566),n(6129),n(94139),n(21914)),o=n(92972),s=n.n(o),a=n(29439),c=n(14507),l=n.n(c),u=n(98493),f=n(65641),m=n(56552);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=(0,f.useDispatch)(),n=(0,i.useState)(!0),r=(0,a.Z)(n,2),o=r[0],s=r[1],c=function(){s(!1);var n=e.dismissedNotifications?e.dismissedNotifications:[];n=n.push(e.name),t((0,u.ov)(n))},p=l()("banner",e.type,{dismissed:!o});return(0,m.jsxs)("div",{className:p,children:[void 0!==e.children?e.children:(0,m.jsx)("span",{dangerouslySetInnerHTML:{__html:e.html}}),function(){var t={className:"closeButton","aria-label":"close notification","aria-hidden":!o};if(e.dismissable)return(0,m.jsx)("button",d(d({},t),{},{onClick:c,children:"X"}))}()]})};h.propTypes={name:s().oneOf(["noNetwork","noContent","noRegionalContent","graphicContent","welcomeBanner","listenPromo","search","invalidContentRequest","welcomeToNewsBanner","welcomeToRadioBanner","welcomeToMusicBanner"]).isRequired,html:s().string,type:s().string,dismissable:s().bool,dismissedNotifications:s().array,path:s().string},h.defaultProps={name:"",html:"",type:"info",dismissable:!1,dismissedNotifications:null,path:""};var y=h,b=n(97240),g=[{name:"noNetwork",html:"There's no network connection. We can't fetch new stories, sorry!",type:"error",dismissable:!0},{name:"noContent",html:"Something's gone wrong. We can't load any content right now. Reloading this page might solve this problem, or please try again later.",type:"error",dismissable:!1},{name:"cachedContent",html:"We can't load the most up-to-date content right now. Please try reloading this page, or try again later.",type:"error",dismissable:!1},{name:"noRegionalContent",html:"We can't load your local news on this page right now.  Reloading this page might solve this problem.",type:"error",dismissable:!1},{name:"graphicContent",html:"This story contains scenes that some readers may find disturbing.",type:"warning",dismissable:!0},{name:"listenPromo",html:'For full episodes, visit <a href="https://www.cbc.ca/listen/" className="showBannerLink">CBC Listen</a>.',type:"info",dismissable:!1},{name:"invalidContentRequest",html:"Sorry, we cannot find the content you have requested.  Please try selecting a different section of the site in our menu.",type:"error",dismissable:!1}],v=n(65456);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.notificationList,n=void 0===t?[]:t,r=e.path,i=void 0===r?"":r,o=(0,f.useSelector)((function(e){return e.notifications.dismissed})),s=function(e){return g.find((function(t){return t.name===e}))||null},a=n&&n.length?(0,m.jsx)(b.Z,{level:"h2",hidden:!0,children:"Notifications"}):null;return(0,m.jsxs)("div",{className:"notificationArea",children:[a,function(){var e=[];if(n){var t,r=j(n);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=s(a),l=o&&o.includes(a);if(c&&!l){var u={name:c.name,type:c.type,dismissable:c.dismissable,html:c.html,dismissedNotifications:o,path:i},f=(0,m.jsx)(y,w({},u),(0,v.Z)());e.push(f)}}}catch(p){r.e(p)}finally{r.f()}}return e}()]})};function N(e,t){return!(t.path!==e.path||JSON.stringify(t.notificationList)!==JSON.stringify(e.notificationList))}S.propTypes={notificationList:s().array,path:s().string};var C=(0,i.memo)(S,N)}}]);