;(function() {'use strict';
var _dd = {"targ":{"v":{"geo/cy":"CA","geo/ct":"NA","geo/dm":"d"}}};  var _d =  'A|rc_toutv_unsubscribe_v2|a|s|running|c|a:sd-ttl|fs|geo/dm|ua/os|ua/br|ua/mo|dt/wp|cust/toutv_feature|w|B|E|md|dc|drts|T|aa|a-JJpfpEH4h2|paused|C|D|ts|f|*|v|n|rank|overAll|var|mean|exp|sum|sqsum|perOption|q|left|right|depth|nodeCount|tabu|a-WxDnYZcfBT|a-EaZ8cuCOTGid|cust/has_regions|c-rd-url|c-rd-rep|section|news|trendingHeaderOverride|+in+News|news/canada/toronto|+in+Toronto|a-0eb7gjasTVrj|sections-name-experiment|sectionTitle|Topics|Browse|More|Sections|a-4xyGXf14XK|aaTestLabel|b|a-m1KwZY2dfB|a-oJK7FPHmeL|G|g-9U3ooc8QdG|sec|ext|test-api-goal|api-clicked-lineup-card|g-gr4nmKgMv4|g-xGjqDujG99|g-MC9NT2pxy8|g-htKUZUwUDF|g-eOVAV30a3T|g-OVIcRsb6kG|g-nrUrmHl3r7|g-J3uyM1j6fi|g-HwTT6XfjJJ|me|l|al|cust/lotame-segment|cust/theme|cust/lotame-audience|cust/aud|conf|sqs:use-ddid|dl:px|dl:key-sl|conductrics_selection|dl:cdl|dl:cdl-key|c_conductrics_data_layer|learning-agent:learning-exploration-rate|js:ps-q|wa:ready|rt:spa-states|#init|CLOSED|COMMENTED|LISTENED|LOADED|LOADED-MORE|OPENED|READ|SEARCHED|SELECTED|SIGNED-IN|SIGNED-OUT|STREAMED|SUBSCRIBED|SUBMITTED|UNSUBSCRIBED|WATCHED|lotame-loaded|rt:spa-states-m|js:preboot-eps|wax|rt:spa-states-pb|dl:key-tr|conductrics_traits|rt:av-sels|event-queue:sqs-url|https://sqs.us-east-1.amazonaws.com/661082963978/conductrics-30-cbc-queue|admin-ui-server-d2:url|https://console-d2-cbc-v3.conductrics.com|admin-ui-server:url|https://console-cbc-v3.conductrics.com|qa:v-qa|js:debug-all|qa:env|acc:env|p|acc:code|ac-zNSqTXgWDt|rt:tr-ids|cust/toutv_feature:hd_premium|#f1|cust/toutv_feature:hd-premium_sans-pub|#f2|cust/toutv_feature:aucun-feature|#f3|cust/toutv_feature:unspecified|#f4|cust/toutv_feature:hd_premium_sans-pub|#f5|cust/lotame-segment:lotame-segment-id|#f6|cust/theme:dark|#f7|cust/theme:light|#f8|cust/has_regions:has_regions|#f9|cust/has_regions:no_regions|#f10|cust/lotame-audience:test|#f11|cust/lotame-audience:GroupA|#f12|cust/lotame-audience:GroupB|#f13|cust/lotame-audience:gre|#f14|cust/lotame-audience:GroupA2|#f15|cust/lotame-audience:11111|#f16|cust/lotame-audience:837028|#f17|cust/lotame-audience:123|#f18|cust/lotame-audience:patato|#f19|cust/lotame-audience:apple|#f20|cust/lotame-audience:berry|#f21|cust/lotame-audience:salad|#f22|cust/lotame-audience:tomato|#f23|cust/lotame-audience:821842|#f24|cust/lotame-audience:800101-test|#f25|cust/lotame-audience:338489|#f26|cust/lotame-audience:779956|#f27|cust/aud:508498|#f28|pass:ua|pass:ip|pass:loc|pass:vid|pass:sid|pass:qa|pass:qax|targ:traits-agent-max|a:vis-ttl|rt:sl-rate|targ:lookup-url|//api-cbc-v3.conductrics.com/ac-zNSqTXgWDt/v3/agent-api/resolver|targ:ext-tms|acc:c-dom|CA|dl:key-vs|conductrics_vstate|dl:key-ex|conductrics_commands|dl:past-events|targ:vid|qa:st-key|c-conductrics-qa|rt:a_codes|rt:g_codes|diag|module|root|items|entry|wax-pre|api|api-steps|group|pre|features-profile|types|diags|decision|agent|conds|select|choices|policy|api-selected-item|reward|goal|countMax|valueDef|rw|api-video-swimlane|api-serp-info-card|g-listen-click-card-image|g-listen-click-card-play-button|test-flowlet|api-task|task|wa-entry|mdn_only|flow|f-vBLHMPIjsJ|acc|k|api-tmcIKLoOJOCyesvewQIB|rt|https:////api-cbc-v3.conductrics.com/ac-zNSqTXgWDt/v3/agent-api/js/f-vBLHMPIjsJ/dt-j8cr9H0FLuClP05ufJyktE9whuke2M?apikey=api-tmcIKLoOJOCyesvewQIB|js|ds|eph|tt|ttt|mvt|3.7.8|220701.03|m|d|dt-j8cr9H0FLuClP05ufJyktE9whuke2M|128^PTB6JF|R6KWXH|L5TQM06Z|1|3O8L|3O8L|O9T|2EPV|6JG|61C|MQ2|6OC|66R|JW1|6KF|64O|OPG|6NA|5X2|JEC|0|1|R7ROMR|REPN57|RD5V25|28|A|A|0|RCJSUD|RDSFJA|RFC0HB|REVB1P|1JK00|6Y|1E0|0|1JK|2R|1|F|2R|1|F|2R|1|F|RS|1|F|RS|1|F|RFCANX|RFCANV^2.4377486987341674|0.9183721133915278|2.6227547084184244|0.9230769230769231|2.120528063826891|0.9268377253814147|2.891330980947999|0.9333803313359182|2.125919882178739|0.8904109589041096|0.922148023263352|0.9253426352350981|0.9303146363442503|0.8953811977017091|0.01759237539260973|0.015656875052362535|0.018433135344752678|0.015711312484699893|0.2^$0|$1|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C|D]|E|$F|-5|G|-5]|H|$F|$]|G|$]]|I|F|J|7N|K|-5|L|-5]|M|$2|$3|N|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5|O|-5|P|-5]|H|$0|$]|F|$]|O|$]|P|$]]|I|0|J|7O|K|$Q|7P|R|S|T|7Q|U|7R|V|@O|F|0|P]|W|$X|96|Y|97|Z|7S|10|7T|11|7U]|12|$0|$X|98|Y|99|Z|7V|10|7W|11|7X]|F|$X|9A|Y|9B|Z|7Y|10|7Z|11|80]|O|$X|9C|Y|9D|Z|81|10|82|11|83]|P|$X|9E|Y|9F|Z|84|10|85|11|86]]|13|$0|9G|F|9H|O|9I|P|9J]|X|$0|9K|F|9L|O|9M|P|9N]|14|-3|15|-3|16|87|17|88|18|@]]|L|-5]|19|$2|$3|N|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|F|J|89|K|-5|L|-5]|1A|$2|$3|4|5|$6|-5]]|7|@A|8|B|9|C|1B]|E|$0|-5|F|-5]|H|$0|$1C|-4|1D|-4|1E|1F|1G|1H]|F|$1C|-4|1D|-4|1E|1I|1G|1J]]|I|0|J|8A|K|-5|L|-5]|1K|$2|$3|N|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$1C|-4|1D|-4]|F|$1C|-4|1D|-4]]|I|F|J|8B|K|-5|L|-5]|1L|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|8C|F|8D|O|8E|P|8F]|H|$0|$1C|-4|1D|-4|1M|1N]|F|$1C|-4|1D|-4|1M|1O]|O|$1C|-4|1D|-4|1M|1P]|P|$1C|-4|1D|-4|1M|1Q]]|I|0|J|8G|K|-5|L|-5]|1R|$2|$3|4|5|$6|-5]]|7|@A|8|B|9|C]|E|$0|-5|F|-5]|H|$0|$1C|-4|1D|-4|1S|2]|F|$1C|-4|1D|-4|1S|1T]]|I|0|J|8H|K|-5|L|-5]|1U|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$]|F|$]]|I|0|J|8I|K|-5|L|-5]|1V|$2|$3|4|5|$6|-5]]|7|@8|9|A|B|C]|E|$0|-5|F|-5]|H|$0|$1C|-4|1D|-4]|F|$1C|-4|1D|-4]]|I|0|J|8J|K|-5|L|-5]]|1W|$1X|$2|@1]|1Y|@]|1Z|-5]|20|$2|@1R]|1Y|@]|1Z|-5]|21|$2|@1U]|1Y|@1U]|1Z|-5]|22|$2|@1U]|1Y|@]|1Z|-5]|23|$2|@1U]|1Y|@]|1Z|-5]|24|$2|@1U]|1Y|@]|1Z|-5]|25|$2|@1U]|1Y|@]|1Z|-5]|26|$2|@1U]|1Y|@]|1Z|-5]|27|$2|@1L]|1Y|@]|1Z|-5]|28|$2|@1A]|1Y|@]|1Z|-5]|29|$2|@1V]|1Y|@]|1Z|-5]|2A|$2|@1V]|1Y|@]|1Z|-5]]|K|$D|$2B|2C|2D|$]]|2E|$2B|2C|2D|$]]|2F|$2B|2C|2D|$]]|1B|$2B|2C|2D|$]]|2G|$2B|2|2D|$]]|2H|$2B|2|2D|$]]]|2I|$2J|-5|2K|@]|2L|2M|2N|-5|2O|2P|2Q|9O|2R|-5|2S|-2|2T|@2U|2V|2W|2X|2Y|2Z|30|31|32|33|34|35|36|37|38|39|3A|3B]|3C|@2W|2Y|2Z|32|36|37|38|39]|3D|@3E]|3F|@2U]|3G|3H|3I|-5|3J|3K|3L|3M|3N|3O|3P|-2|3Q|-2|3R|13|3S|3T|3U|3V|3W|$3X|3Y|3Z|40|41|42|43|44|45|46|47|48|49|4A|4B|4C|4D|4E|4F|4G|4H|4I|4J|4K|4L|4M|4N|4O|4P|4Q|4R|4S|4T|4U|4V|4W|4X|4Y|4Z|50|51|52|53|54|55|56|57|58|59|5A|5B|5C|5D|5E|5F|5G]|5H|-5|5I|-5|5J|-5|5K|-5|5L|-5|5M|-5|5N|-5|6|8K|5O|8L|5P|8M|5Q|8N|5R|5S|5T|8O|5U|@5V]|5W|5X|5Y|5Z|60|-5|61|-5|62|63|64|@1|1A|1L|1R|1U|1V]|65|@1X|20|21|22|23|24|25|26|27|28|29|2A]]|66|$67|68|69|@$67|6A|6A|6B|69|@]]|$67|6A|6A|6C|69|@$67|6D|69|@$67|6E|6E|6F|69|@$67|6G|6H|@]|69|@]]]]]|6I|$M|$67|6J|6K|M|6L|@]|69|@$67|6M|6K|M|6N|@0]|6O|3T|69|@]]]]|1K|$67|6J|6K|1K|6L|@]|69|@$67|6M|6K|1K|6N|@F]|6O|3T|69|@]]]]|6P|$67|6Q|6R|6P|6S|8P|6T|8Q|6U|8R]|6V|$67|6Q|6R|6V|6S|8S|6T|8T|6U|8U]|6W|$67|6Q|6R|6W|6S|8V|6T|8W|6U|8X]|6X|$67|6Q|6R|6X|6S|8Y|6T|8Z|6U|90]|6Y|$67|6Q|6R|6Y|6S|91|6T|92|6U|93]|6Z|$67|70|71|6Z|69|@]]]]]]|$67|6A|6A|3E|69|@$67|72|69|@$67|6E|6E|6F|69|@$67|6G|6H|@]|69|@]]]]]|6L|@]|73|-1]]]]|74|75]|76|$5|3V|77|78]|79|$3|7A|7B|-5|3T|-2|Q|94|7C|1T|7D|@]|7E|@8|9|A|B|C]|7F|@8|9|A|B|C]]|7G|-3|T|$T|7H|1T|7I|7J|95|7K|7L|U|7M]]';  var _wa_preboot = function(visitor_callback) {visitor_callback({authenticated:CBC.APP.SC.DTM.DATA.authenticated===!0?"yes":"no"},{selection_callback:function(e,t){CBC.APP.AB.Experiments=CBC.APP.AB.Experiments||{},CBC.APP.AB.Experiments.ids=CBC.APP.AB.Experiments.ids||[],CBC.APP.AB.Experiments.variants=CBC.APP.AB.Experiments.variants||[],-1===CBC.APP.AB.Experiments.ids.indexOf(t)&&CBC.APP.AB.Experiments.ids.push(t),-1===CBC.APP.AB.Experiments.variants.indexOf(e[t].c)&&CBC.APP.AB.Experiments.variants.push(t+"|"+e[t].c),CBC.APP.AB.setUserPropertyExperiments&&"function"==typeof CBC.APP.AB.setUserPropertyExperiments&&CBC.APP.AB.setUserPropertyExperiments()}});}; var _wa_cjs = {  }; var _wa_js = {  }; // var console = (window && window.console) || {log: function(s) {}};
if (!Array.isArray) {Array.isArray = function(arg) {return Object.prototype.toString.call(arg) === '[object Array]'}};
if (!String.prototype.trim) {String.prototype.trim = function () {return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')}};
if (!Array.prototype.filter) {Array.prototype.filter = function(fn) { res = []; for (var i = 0; i < this.length; i++) { v = this[i]; if ( fn(v) ) { res.push(v); }} return res; }}
if (!Array.prototype.map) {Array.prototype.map = function(fn) { res = []; for (var i = 0; i < this.length; i++) { v = this[i]; res.push(fn(v)); } return res; }}
if (!Object.keys) {Object.keys = function(o) { var ar = []; for (var k in o) {ar.push(k)}; return ar; }}
if (!Object.assign) {Object.assign = function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var f in a)r[f]=a[f]}return r};}  var require = undefined; var define = undefined; require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({"./modules/api-steps":[function(require,module,exports){
(function(){var t,e=function(t,e){function s(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(conf){this.conf=conf}return e(o,t),o.prototype.process=function(t,e){var o,s,n,r,i,l,u,p,c,m,a;if((a=null!=(i=null!=(l=t.steps)?l:e.r.steps)?i:[]).length>0){for(null==t.items&&(t.items=[]),null==t._items&&(t._items=t.items.concat()),s={module:"group",items:[]},n=0,r=a.length;r>n;n++)m=a[n],s.items.push({module:"step-set",step:m}),null!=(o=t.diags[null!=(u=null!=(p=m.a)?p:m.g)?u:m.t])&&s.items.push(o);0,"pre"!==(null!=(c=t._items[0])?c.group:void 0)&&e.log("No prelude!","e"),t.items=t._items.concat(),t.items.splice(1,0,s)}},o}(t)}).call(this);
},{"../diagrams":14}],"./modules/api-task":[function(require,module,exports){
(function(){var t,r=function(t,r){function n(){this.constructor=t}for(var p in r)o.call(r,p)&&(t[p]=r[p]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.process=function(t,r){r.log("Task: '"+t.task+"'","a")},o}(t)}).call(this);
},{"../diagrams":14}],"./modules/decision":[function(require,module,exports){
(function(){var t,r=function(t,r){function o(){this.constructor=t}for(var e in r)n.call(r,e)&&(t[e]=r[e]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t},n={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.active=function(t,r){var n;return!(t.qa&&(n=r.qa(),r.log("QA-only agent '"+t.agent+"' (QA visitor? "+n+")","q"),!n))},n.prototype.getConds=function(t,r){return r.selPre(t.agent)?(r.log("Skipping entry conditions for '"+t.agent+"'","q"),[]):t.conds},n}(t)}).call(this);
},{"../diagrams":14}],"./modules/entry":[function(require,module,exports){
(function(){var t,r=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.active=function(t,r){return r.data["d.ep"]===t.entry},o}(t)}).call(this);
},{"../diagrams":14}],"./modules/features-profile":[function(require,module,exports){
(function(){var r,t=function(r,t){function n(){this.constructor=r}for(var e in t)o.call(t,e)&&(r[e]=t[e]);return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r},o={}.hasOwnProperty;r=require("../diagrams").M,exports.m=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,r),o}(r)}).call(this);
},{"../diagrams":14}],"./modules/group":[function(require,module,exports){
arguments[4]["./modules/features-profile"][0].apply(exports,arguments)
},{"../diagrams":14,"dup":"./modules/features-profile"}],"./modules/reward":[function(require,module,exports){
(function(){var e,r,t,o=function(e,r){function t(){this.constructor=e}for(var o in r)a.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},a={}.hasOwnProperty;e=require("../diagrams").M,t=require("../../../utils"),r=require("../../../rewards"),exports.m=function(e){function a(conf){this.conf=conf,this.rewarder=new r.Rewarder(this.conf),a.__super__.constructor.call(this,this.conf)}return o(a,e),a.prototype.process=function(e,r){var o,a,n,s,u,l,i,c,p,d,f;if(null==r.sess)throw"No session";for(r.reread(),f={goal:e.goal,value:function(){var t;switch(!1){case!((null!=(t=r.step)?t.g:void 0)===e.goal&&"number"==typeof r.step.v):return r.step.v;default:return parseFloat(e.value)}}(),agents:null!=(u=e.to)?u:null!=(l=r.step)?l.to:void 0},s={countMax:e.countMax,valueMin:e.valueMin,valueMax:e.valueMax,valueDef:e.valueDef,rw:e.rw,ps_ok:e.ps_ok},0===(p=this.rewarder.handleStep(r,f,s)).items.length&&r.log("No agents to reward for "+e.goal,"g"),d={g:e.goal,rs:[]},o=0,n=(i=p.items).length;n>o;o++)null!=(a=i[o])&&(r.log("Reward of "+f.value+" ("+a.v+" accepted) to agent "+a.a+" for goal "+a.g,"g"),a=t.Obj.extend({},a,{t:"r",rts:t.Dates.stamp(),c:function(){switch(!1){case!Array.isArray(a.c):return a.c.join(",");default:return a.c}}(),s:void 0}),!0===this.conf["sqs:use-ddid"]&&(a.ddid=a.a+":"+a.g+":"+(null!=(c=a.ri)?c:0)),r.done(a),d.rs.push({a:a.a.split(":")[1],v:a.v}));return r.resp(d)},a}(e)}).call(this);
},{"../../../rewards":9,"../../../utils":18,"../diagrams":14}],"./modules/root":[function(require,module,exports){
arguments[4]["./modules/features-profile"][0].apply(exports,arguments)
},{"../diagrams":14,"dup":"./modules/features-profile"}],"./modules/select":[function(require,module,exports){
(function(){var n,e,t=function(n,e){function t(){this.constructor=n}for(var l in e)s.call(e,l)&&(n[l]=e[l]);return t.prototype=e.prototype,n.prototype=new t,n.__super__=e.prototype,n},s={}.hasOwnProperty;n=require("../diagrams").M,require("../../../utils"),e=require("../../../selection"),exports.m=function(n){function s(n){this.conf=n,this.chooser=new e.Chooser(this.conf),s.__super__.constructor.call(this,this.conf)}return t(s,n),s.prototype.process=function(n,e){var t,conf,s,l,o,r,a,c,i,p,u,d,f,h,g,y,_,m,w,x,v,k,A,b,q,C,O,j,D,M,N,P,S;if(conf=this.conf,null==e.sess)throw"No session for dec";if(O=e.data,j=null!=(g=e.step)?g:{},t=null!=(y="undefined"!=typeof _d&&null!==_d?_d.A[n.agent]:void 0)?y:{a:{c:{}},md:{}},P="p"===(D=null!=(_=n.s)?_:j.s),S="ok"===D,!0!==j.discard||j.a!==n.agent)if(M={a:n.agent,c:function(){switch(!1){case!(j.a===n.agent&&null!=j.c):return j.c;default:return n.choices}}(),x:null!=(m=j.x)?m:[],p:n.policy,exr:n.exr,gdy:n.gdy,n:function(){var e,t;switch(typeof n.num){case"number":return null!=(e=null!=(t=j.n)?t:n.num)?e:1;default:return}}(),w:t.w},null!=(D=t.a.s)){if("running"!==D&&(M.p="p"),(q=this.chooser.handleStep(e,M)).s=P&&"ok"!==q.ps?"p":"ok",i=!P,c=S&&"p"===q.ps,b=null!=(w=q.pp)?w:q.p,"p"===n.rap&&(b=q.p=n.rap),e.selAdd(q),c?e.log("Confirming selection '"+q.c+"' for agent '"+n.agent+"'","a"):(e.log("selection '"+q.c+"' for agent '"+n.agent+"' (policy "+q.p+", traits ["+q.fs+"])","a"),"p"===q.s&&e.log("selection for '"+n.agent+"' is pending","a")),(!P&&"p"!==(x=q.p)&&"b"!==x&&"s"!==x&&"x"!==x||c)&&e.done({t:"d",a:M.a,c:Array.isArray(q.c)?q.c.join(","):q.c,p:b,fs:q.fs,dts:q.ts}),"api"===O["d.ep"]&&(n.silent||j.silent||e.resp({a:M.a,c:q.c,p:q.p,md:null!=(v=t.md[q.c])?v:{},s:q.s})),i&&null!=e.handlers){for(p in C={},k=O["v.sels"])N=k[p],C[p]={c:N.c,p:N.p};for(a=0,d=(A=e.handlers).length;d>a;a++){r=A[a];try{r(C,M.a)}catch(n){o=n,e.log("Could not call post-selection handler: "+o,"e")}}}if(i&&(s=function(){var n,e,t,s;return t={item:{t:"s",a:M.a,c:q.c,p:b,a_name:M.a,c_name:q.c},ep:O["d.ep"]},(e=(n=null!=(s=_d.A[M.a])?s:{}).cn)&&Object.assign(t.item,{a_name:n.n,c_name:e[q.c]}),t},(h=-1===conf["dl:px"].indexOf(b))&&(l=e.r._dl).enabled()&&(u=conf["dl:key-sl"],l.push(u,s())),h&&conf["dl:cdl"]))try{return(null!=window[f=conf["dl:cdl-key"]]?window[f]:window[f]=[]).push(s())}catch(n){}}else e.log("Unknown agent '"+n.agent+"' or status '"+D+"'","a");else e.selDel(n.agent)},s}(n)}).call(this);
},{"../../../selection":10,"../../../utils":18,"../diagrams":14}],"./modules/step-set":[function(require,module,exports){
(function(){var t,r=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},o={}.hasOwnProperty;t=require("../diagrams").M,exports.m=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.process=function(t,r){r.stepSet(t.step)},o}(t)}).call(this);
},{"../diagrams":14}],"./modules/wa-entry":[function(require,module,exports){
(function(){var r,t=function(r,t){function n(){this.constructor=r}for(var e in t)o.call(t,e)&&(r[e]=t[e]);return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r},o={}.hasOwnProperty;r=require("../diagrams").M,exports.m=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,r),o.prototype.active=function(r,t){var o;return!r.mdn_only||"m"===(o=t.mdn())||(t.log("Stopping because 'modern' browser features not available ("+o+")","cf"),!1)},o}(r)}).call(this);
},{"../diagrams":14}],"./plugins/dt":[function(require,module,exports){
(function(){var t,r,o=function(t,r){function o(){this.constructor=t}for(var e in r)n.call(r,e)&&(t[e]=r[e]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t},n={}.hasOwnProperty;t=require("../targeting"),r=require("../dt-resolve")._resolve,exports.p=function(t){function n(conf){this.conf=conf}return o(n,t),n.ns="dt",n.modes=["s","b"],n.sync=!0,n.prototype.ttl=function(t){return 60},n.prototype.resolve=function(t,o,n,e){return e(!1,r(o,t.data["v.ts"],t.data["v.tzo"]))},n}(t.Plugin)}).call(this);
},{"../dt-resolve":15,"../targeting":17}],"./plugins/geo":[function(require,module,exports){
(function(){var t,n=function(t,n){function r(){this.constructor=t}for(var e in n)o.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},o={}.hasOwnProperty;t=require("../targeting"),exports.p=function(t){function o(conf){this.conf=conf}return n(o,t),o.ns="geo",o.modes=["b","s"],o.sync=!0,o.prototype.resolve=function(t,n,o,r){return r(!1,null)},o}(t.Plugin)}).call(this);
},{"../targeting":17}],"./plugins/ua":[function(require,module,exports){
(function(){var e,r,t=function(e,r){function t(){this.constructor=e}for(var a in r)n.call(r,a)&&(e[a]=r[a]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},n={}.hasOwnProperty;r=require("ua-parser-js"),e=require("../targeting"),exports.p=function(e){function n(conf){this.conf=conf}var a,o,s;return t(n,e),n.ns="ua",n.modes=["s","b"],n.sync=!0,n.prototype.ttl=function(e){return s(e)?n.__super__.ttl.call(this):0},s=function(e){return"os"===e||"br"===e||"dv"===e||"mo"===e},o=function(){return"object"==typeof window&&"ontouchstart"in window},a=function(e){var r,t;return null!=(r=e.data["v.ua"])?r:null!=(t=e.r)?t.ua:void 0},n.prototype.resolve=function(e,t,n,u){var c,i,d,l;if(s(t)){if("string"!=typeof(l=a(e)))return u(!1);i=new r(l),d=i.getResult()}return u(!1,function(){switch(t){case"os":switch(d.os.name){case"Android":return"a";case"Blackberry":return"b";case"iOS":return"i";case"Mac OS":return"m";case"Windows":case"Windows Phone":case"Windows Mobile":return"w";default:return"o"}break;case"br":switch(d.browser.name){case"Chrome":return"c";case"Firefox":return"f";case"Safari":case"Mobile Safari":return"s";case"IE":case"IEMobile":case"Edge":return"i";default:return"o"}break;case"dv":switch(d.device.type){case"mobile":return"m";case"tablet":return"t";case void 0:case null:case"":return"d";default:return"o"}break;case"mo":switch(d.device.type){case"mobile":case"tablet":return"m";default:return"n"}break;case"vi":return e.mdn();case"wi":return c="undefined"!=typeof window&&null!==window?window.innerWidth:void 0;case"wb":switch(c="undefined"!=typeof window&&null!==window?window.innerWidth:void 0,!1){case!(c>=1400):return"xxl";case!(c>=1200):return"xl";case!(c>=992):return"lg";case!(c>=768):return"md";case!(c>=576):return"sm";case!(576>c):return"xs"}break;case"te":return o()?"t":"n";case"ag":return a(e)}}())},n}(e.Plugin)}).call(this);
},{"../targeting":17,"ua-parser-js":8}],1:[function(require,module,exports){
(function(){exports.Bots=function(){function t(conf){this.conf=conf}var n;return t.prototype.detect=function(t){var r,o,e,i;if(!((null!=t?t.length:void 0)>0))return null;for(t=t.toLowerCase(),r=0,o=(e=n()).length;o>r;r++)if(i=e[r],t.indexOf(i)>=0)return i;return null},n=function(){return["bot","spider","crawler","search","track","ping","monitor","google","twitter","yahoo","bing","akamai","y!j"]},t}()}).call(this);
},{}],2:[function(require,module,exports){
(function(){var n;n=exports,require("./data"),n.merged=function(n){return null==n&&(n=[]),_d.conf}}).call(this);
},{"./data":3}],3:[function(require,module,exports){
(function(){var c;if("string"==typeof _d)try{c=require("jsonpack"),_d=c.unpack(_d)}catch(c){}}).call(this);
},{"jsonpack":"jsonpack"}],4:[function(require,module,exports){
(function(){exports.doc_ready=function(t){return(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)}}).call(this);
},{}],5:[function(require,module,exports){
(function(){var n,e,l,o,i,t,r,u,c,f,d;switch(u=Math.min,o=Math.floor,c=Math.random,r=Math.log,n=Math.abs,d=function(n,e,l,o,i){return n&&!!e[n.f]==!!n.v?d(n.left,e,l,o,i)||d(n.right,e,l,o,i)||l(n,o,i):null},l=function(n,e,l){var i,t,r,f,d;for(r=null!=(f=null!=n?n.rank:void 0)?f:[],e||(e=r),e=e.slice(0),t=u(r.length,e.length,l),d=[];d.length<t&&e.length>0;)i=o(c()*e.length),d.push(e.splice(i,1)[0]);return d},t=function(n,e,l){var o,i,t;return i=null!=(t=null!=n?n.rank:void 0)?t:[],e||(e=i),e=e.slice(0),o=u(i.length,e.length,l),e.sort(function(e,l){return n.q[l]-n.q[e]}).slice(0,o)},f=function(n,e,l){var o,t,r,u,c,f,d;if(c=null!=(f=null!=n?n.rank:void 0)?f:[],e||(e=c),e=e.slice(0),o={},!(null!=n&&"q"in n&&"var"in n))return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log("Error: malformed node",n),null!=(d=null!=e?e.slice(0,l):void 0)?d:[];for(t=0,r=e.length;r>t;t++)u=e[t],o[u]=i(n.q[u],n.var[u]);return e.sort(function(n,e){return o[e]-o[n]}).slice(0,l)},i=function(e,l){var o,i,t,u,f;for(null==e&&(e=.5),null==l&&(l=.12);i=c(),t=1.7156*(c()-.5),(o=(u=i-.449871)*u+(f=n(t)+.386595)*(.196*f-.25472*u))>.27597&&(o>.27846||t*t>-4*r(i)*i*i););return e+l*t/i},e=function(n,e,o,i,r,u){var s;return null==u&&(u=!1),s=function(l){return d(n,e,l,o,i)},u?{type:"decision",policy:"exploit",decision:s(t)}:null==n||c()<r?{type:"decision",policy:"explore",decision:s(l)}:{type:"decision",policy:"exploit",decision:s(f)}},!1){case"undefined"==typeof define||null===define:define(function(){return{decide:e}});break;case"undefined"==typeof module||null===module:module.exports={decide:e}}}).call(this);
},{}],6:[function(require,module,exports){

},{}],7:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],8:[function(require,module,exports){
!function(i,e){"use strict";var o="model",r="name",a="type",n="vendor",t="version",s="mobile",b="tablet",w="smarttv",d=function(i){for(var e={},o=0;o<i.length;o++)e[i[o].toUpperCase()]=i[o];return e},l=function(i,e){return"string"==typeof i&&-1!==c(e).indexOf(c(i))},c=function(i){return i.toLowerCase()},u=function(i,e){if("string"==typeof i)return i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0===e?i:i.substring(0,255)},m=function(i,e){for(var o,r,a,n,t,s,b=0;b<e.length&&!t;){var w=e[b],d=e[b+1];for(o=r=0;o<w.length&&!t;)if(t=w[o++].exec(i))for(a=0;a<d.length;a++)s=t[++r],"object"==typeof(n=d[a])&&n.length>0?2===n.length?"function"==typeof n[1]?this[n[0]]=n[1].call(this,s):this[n[0]]=n[1]:3===n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?this[n[0]]=s?s.replace(n[1],n[2]):void 0:this[n[0]]=s?n[1].call(this,s,n[2]):void 0:4===n.length&&(this[n[0]]=s?n[3].call(this,s.replace(n[1],n[2])):void 0):this[n]=s||void 0;b+=2}},p=function(i,e){for(var o in e)if("object"==typeof e[o]&&e[o].length>0){for(var r=0;r<e[o].length;r++)if(l(e[o][r],i))return"?"===o?void 0:o}else if(l(e[o],i))return"?"===o?void 0:o;return i},h={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},f={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[t,[r,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[t,[r,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[r,t],[/opios[\/ ]+([\w\.]+)/i],[t,[r,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[t,[r,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[r,t],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[t,[r,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[t,[r,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[t,[r,"WeChat"]],[/konqueror\/([\w\.]+)/i],[t,[r,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[t,[r,"IE"]],[/yabrowser\/([\w\.]+)/i],[t,[r,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[r,/(.+)/,"$1 Secure Browser"],t],[/\bfocus\/([\w\.]+)/i],[t,[r,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[t,[r,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[t,[r,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[t,[r,"Dolphin"]],[/coast\/([\w\.]+)/i],[t,[r,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[t,[r,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[t,[r,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[r,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[r,/(.+)/,"$1 Browser"],t],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],t],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[r,t],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[r],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[r,"Facebook"],t],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[r,t],[/\bgsa\/([\w\.]+) .*safari\//i],[t,[r,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[t,[r,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[r,"Chrome WebView"],t],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[t,[r,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[r,t],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[t,[r,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[t,r],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[r,[t,p,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[r,t],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[r,"Netscape"],t],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[t,[r,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[r,t]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",c]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",c]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",c]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[n,"Samsung"],[a,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[n,"Samsung"],[a,s]],[/\((ip(?:hone|od)[\w ]*);/i],[o,[n,"Apple"],[a,s]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[n,"Apple"],[a,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[n,"Huawei"],[a,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[o,[n,"Huawei"],[a,s]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[n,"Xiaomi"],[a,s]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[n,"Xiaomi"],[a,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[o,[n,"OPPO"],[a,s]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[n,"Vivo"],[a,s]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[o,[n,"Realme"],[a,s]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[n,"Motorola"],[a,s]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[n,"Motorola"],[a,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[n,"LG"],[a,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[n,"LG"],[a,s]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[n,"Lenovo"],[a,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[n,"Nokia"],[a,s]],[/(pixel c)\b/i],[o,[n,"Google"],[a,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[n,"Google"],[a,s]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[n,"Sony"],[a,s]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[n,"Sony"],[a,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[n,"OnePlus"],[a,s]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[n,"Amazon"],[a,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[n,"Amazon"],[a,s]],[/(playbook);[-\w\),; ]+(rim)/i],[o,n,[a,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[n,"BlackBerry"],[a,s]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[n,"ASUS"],[a,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[n,"ASUS"],[a,s]],[/(nexus 9)/i],[o,[n,"HTC"],[a,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[n,[o,/_/g," "],[a,s]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[n,"Acer"],[a,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[n,"Meizu"],[a,s]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[n,"Sharp"],[a,s]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[n,o,[a,s]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[n,o,[a,b]],[/(surface duo)/i],[o,[n,"Microsoft"],[a,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[n,"Fairphone"],[a,s]],[/(u304aa)/i],[o,[n,"AT&T"],[a,s]],[/\bsie-(\w*)/i],[o,[n,"Siemens"],[a,s]],[/\b(rct\w+) b/i],[o,[n,"RCA"],[a,b]],[/\b(venue[\d ]{2,7}) b/i],[o,[n,"Dell"],[a,b]],[/\b(q(?:mv|ta)\w+) b/i],[o,[n,"Verizon"],[a,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[n,"Barnes & Noble"],[a,b]],[/\b(tm\d{3}\w+) b/i],[o,[n,"NuVision"],[a,b]],[/\b(k88) b/i],[o,[n,"ZTE"],[a,b]],[/\b(nx\d{3}j) b/i],[o,[n,"ZTE"],[a,s]],[/\b(gen\d{3}) b.+49h/i],[o,[n,"Swiss"],[a,s]],[/\b(zur\d{3}) b/i],[o,[n,"Swiss"],[a,b]],[/\b((zeki)?tb.*\b) b/i],[o,[n,"Zeki"],[a,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[n,"Dragon Touch"],o,[a,b]],[/\b(ns-?\w{0,9}) b/i],[o,[n,"Insignia"],[a,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[n,"NextBook"],[a,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[n,"Voice"],o,[a,s]],[/\b(lvtel\-)?(v1[12]) b/i],[[n,"LvTel"],o,[a,s]],[/\b(ph-1) /i],[o,[n,"Essential"],[a,s]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[n,"Envizen"],[a,b]],[/\b(trio[-\w\. ]+) b/i],[o,[n,"MachSpeed"],[a,b]],[/\btu_(1491) b/i],[o,[n,"Rotor"],[a,b]],[/(shield[\w ]+) b/i],[o,[n,"Nvidia"],[a,b]],[/(sprint) (\w+)/i],[n,o,[a,s]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[n,"Microsoft"],[a,s]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[n,"Zebra"],[a,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[n,"Zebra"],[a,s]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[n,o,[a,"console"]],[/droid.+; (shield) bui/i],[o,[n,"Nvidia"],[a,"console"]],[/(playstation [345portablevi]+)/i],[o,[n,"Sony"],[a,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[n,"Microsoft"],[a,"console"]],[/smart-tv.+(samsung)/i],[n,[a,w]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[n,"Samsung"],[a,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[n,"LG"],[a,w]],[/(apple) ?tv/i],[n,[o,"Apple TV"],[a,w]],[/crkey/i],[[o,"Chromecast"],[n,"Google"],[a,w]],[/droid.+aft(\w)( bui|\))/i],[o,[n,"Amazon"],[a,w]],[/\(dtv[\);].+(aquos)/i],[o,[n,"Sharp"],[a,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[n,u],[o,u],[a,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,w]],[/((pebble))app/i],[n,o,[a,"wearable"]],[/droid.+; (glass) \d/i],[o,[n,"Google"],[a,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[o,[n,"Zebra"],[a,"wearable"]],[/(quest( 2)?)/i],[o,[n,"Facebook"],[a,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[n,[a,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[o,[a,s]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[a,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[a,s]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[n,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[t,[r,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[t,[r,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[r,t],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[t,r]],os:[[/microsoft (windows) (vista|xp)/i],[r,t],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[r,[t,p,h]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[r,"Windows"],[t,p,h]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[t,/_/g,"."],[r,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[r,"Mac OS"],[t,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[t,r],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[r,t],[/\(bb(10);/i],[t,[r,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[t,[r,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[t,[r,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[t,[r,"webOS"]],[/crkey\/([\d\.]+)/i],[t,[r,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[r,"Chromium OS"],t],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[r,t],[/(sunos) ?([\w\.\d]*)/i],[[r,"Solaris"],t],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[r,t]]},v=function(e,o){if("object"==typeof e&&(o=e,e=void 0),!(this instanceof v))return new v(e,o).getResult();var r=e||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=o?function(i,e){var o={};for(var r in i)e[r]&&e[r].length%2==0?o[r]=e[r].concat(i[r]):o[r]=i[r];return o}(f,o):f;return this.getBrowser=function(){var i,e={};return e.name=void 0,e.version=void 0,m.call(e,r,a.browser),e.major="string"==typeof(i=e.version)?i.replace(/[^\d\.]/g,"").split(".")[0]:void 0,e},this.getCPU=function(){var i={architecture:void 0};return m.call(i,r,a.cpu),i},this.getDevice=function(){var i={vendor:void 0,model:void 0,type:void 0};return m.call(i,r,a.device),i},this.getEngine=function(){var i={name:void 0,version:void 0};return m.call(i,r,a.engine),i},this.getOS=function(){var i={name:void 0,version:void 0};return m.call(i,r,a.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(i){return r="string"==typeof i&&i.length>255?u(i,255):i,this},this.setUA(r),this};v.VERSION="0.7.31",v.BROWSER=d([r,t,"major"]),v.CPU=d(["architecture"]),v.DEVICE=d([o,n,a,"console",s,w,b,"wearable","embedded"]),v.ENGINE=v.OS=d([r,t]),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports.UAParser=v):"function"==typeof define&&define.amd?define(function(){return v}):void 0!==i&&(i.UAParser=v);var g=void 0!==i&&(i.jQuery||i.Zepto);if(g&&!g.ua){var x=new v;g.ua=x.getResult(),g.ua.get=function(){return x.getUA()},g.ua.set=function(i){x.setUA(i);var e=x.getResult();for(var o in e)g.ua[o]=e[o]}}}("object"==typeof window?window:this);
},{}],9:[function(require,module,exports){
(function(){var n,l,e,t=[].indexOf||function(n){for(var l=0,e=this.length;e>l;l++)if(l in this&&this[l]===n)return l;return-1};l=exports,e=require("./utils"),n=999999,l.Rewarder=function(){function l(conf){this.conf=conf}var r;return l.prototype.handleStep=function(l,r,a){var o,s,u,i,g,v,c,d,p,f,h,w,y,x,M,G,m,A;for(-n<(w=r.value)&&n>w||(r.value=null!=(y=a.valueDef)?y:1),u=null!=(x=null!=(M=_d.G[r.goal])?M.a:void 0)?x:[],Array.isArray(r.agents)&&(u=r.agents.filter(function(n){return t.call(u,n)>=0})),c=this.selsFor(l,r,u),l.log("Goal '"+r.goal+"' mapped to agents: "+u+" ("+c.length+" have a selection)","g"),g=d=0,p=c.length;p>d;g=++d)(v=c[g]).g=r.goal,v.v=this.val(l,r,a,v),o="running"===(s=null!=(G=_d.A[v.a])?G.a.s:void 0)&&"p"!==(m=v.p)&&"b"!==m&&"x"!==m,"p"===v.s&&("number"==typeof a.ps_ok&&e.Dates.stamp()-v.dts<=a.ps_ok?l.log("Allowing reward for pending selection","g"):(l.log("Not rewarding '"+v.a+"' for Goal '"+r.goal+"' due to 'pending' selection","g"),o=!1)),o&&null!=v.v&&null!=v.fs?(null==(i=l.sess.rwds)[f=v.a]&&(i[f]={}),A=this.getPrior(l,v.a,v.g),v.pr=A[0],v.ri=A[1],a.rw&&v.pr&&(h=e.Dates.stamp()-v.pr.gts)<a.rw?(l.log("Not rewarding "+v.a+" for "+v.g+" ("+h+" of "+a.rw+" secs)","g"),c[g]=null):l.rwdAdd(v.a,v.g,v.v)):(l.log("Not rewarding "+v.a+" for "+v.g+" (policy "+v.p+" - status "+s+")","g"),c[g]=null);return{items:c}},l.prototype.selsFor=function(n,l,e){var t,r,a,o,s;for(a=[],o=0,s=e.length;s>o;o++)t=e[o],null!=(r=n.selGet(t))&&a.push({a:t,c:r.c,p:r.p,s:r.s,fs:r.fs.concat(),dts:r.ts});return a},l.prototype.getPrior=function(n,l,e){var t,a,o,s,u,i;for(t in u=0,a={v:0,n:0,gv:0,gn:0,gts:0,ts:0},i=null!=(s=n.sess.rwds[l])?s:{})null!=(o=i[t])&&"number"==typeof o.v&&(r(l,t)||(a.v+=o.v,a.n+=o.n),t===e&&(a.gv+=o.v,a.gn+=o.n,a.gts=o.ts,u=o.n),o.ts>a.ts&&(a.ts=o.ts));return 0===a.ts&&(a=void 0),[a,u]},l.prototype.val=function(n,l,e,t){var r,a,o,s,u,i,g;switch(r=null!=(a=null!=(o=n.sess.rwds[t.a])?o[t.g]:void 0)?a:{},g=null!=(s=null!=(u=l.value)?u:e.valueDef)?s:1,!1){case!(r.n>=(null!=(i=e.countMax)?i:1)):return n.log("Goal '"+t.g+"' already accepted "+r.n+"x for agent '"+t.a+"'","g"),null;case!(null==e.valueMin&&null==e.valueMax):return 1;case!(null!=e.valueMin&&g<e.valueMin||null!=e.valueMax&&g>e.valueMax):return n.log("Goal '"+t.g+"' not accepted (reward "+g+" not between "+e.valueMin+" and "+e.valueMax+")","g"),null;default:return g}},r=function(n,l){var e,r;return!!(r=null!=(e=_d.G[l])?e.sec:void 0)&&t.call(r,n)>=0},l}()}).call(this);
},{"./utils":18}],10:[function(require,module,exports){
(function(){var r,n,e,l=[].indexOf||function(r){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===r)return n;return-1};n=require("./utils"),r=exports,e=require("./lib/browser").decide,r.Chooser=function(){function r(conf){this.conf=conf}var t;return r.prototype.handleStep=function(r,t){var c,a,u,i,o,s,p,f,h,d,v,g,x,y,w,A,k,b;return h=this.priorChoice(r,t),A=r.tFor(t.a),w=r.polGet(t.a),u=function(){var n;switch(!1){case"p"!==w:return[];default:return null!=(n=r.selRed(t.a))?n:[]}}(),k=Array.isArray(t.x)?t.x:[],(u.length>0||k.length>0)&&(t.c=t.c.filter(function(r){return(0===u.length||l.call(u,r)>=0)&&l.call(k,r)<0}),null!=h&&(v=h.c,l.call(t.c,v)<0)&&(h=null)),f=function(){var n,e;switch(!1){case"x"!==w&&"p"!==w:return w;case!r.dnt():return"p";case null==h:return"s";case!w:return w;case"ar"!==t.p:return"r";case!(1===u.length&&(!r.qa()||u[0]!==r.selPre(t.a))):return"f";case null==t.n:return"a";case"c"!==(n=t.p)&&"p"!==n&&"b"!==n&&"f"!==n&&"x"!==n:case"a"!==(e=t.p)&&"r"!==e:return t.p;default:return"r"}}(),c=null!=(g=_d.A[t.a])?g:{},"s"===f&&"p"===h.s&&(A=h.fs),"a"===f&&(null==(p=c.T)&&(f="r")),"a"===f?(d=function(){var n;switch(t.p){case"r":return 1;default:return null!=(n=t.exr)?n:r.conf["learning-agent:learning-exploration-rate"]}}(),i=function(){var r,n,e,a,u,i;for(i=[],r=0,n=(u=null!=(e=null!=(a=c.T)?a.rank:void 0)?e:t.c).length;n>r;r++)s=u[r],l.call(t.c,s)>=0&&i.push(s);return i}(),"explore"===(a=e(p,r.tMap(A),i,Math.max(null!=(x=t.n)?x:1,0),d,t.gdy)).policy&&(f="r"),0===a.decision.length?(f="p",o=c.dc):o=null!=t.n?a.decision:a.decision[0]):"s"===f?o=h.c:"p"===f?o=c.dc:"x"===f?o="":(b=(i=function(){var r,n,e,a,u,i;for(i=[],r=0,n=(u=null!=(e=null!=(a=c.T)?a.rank:void 0)?e:t.c).length;n>r;r++)s=u[r],l.call(t.c,s)>=0&&i.push(s);return i}()).map(function(r){var n,e;switch(f){case"r":return null!=(n=null!=(e=t.w)?e[r]:void 0)?n:1/i.length;case"c":case"f":return r===i[0]?1:0;default:throw Error("Unknown policy '"+f+"'")}}),o=n.Rand.pick(i,b)),{a:t.a,c:o,p:f,fs:A.concat(),ts:null!=(y=null!=h?h.ts:void 0)?y:n.Dates.stamp(),ps:null!=h?h.s:void 0,pp:null!=h?h.p:void 0}},r.prototype.priorChoice=function(r,n){var e,c;return e=null!=(c=r.selGet(n.a))?c:{},void 0===n.n&&Array.isArray(e.c)&&(e.c=e.c[0]),function(){var r;switch(!1){case!(null!=n.n&&Array.isArray(e.c)):return n.n===e.c.length&&t(e.c,n.c);default:return r=e.c,l.call(n.c,r)>=0}}()&&"p"!==e.p?e:null},t=function(r,n){var e,t,c;for(e=0,t=r.length;t>e;e++)if(c=r[e],l.call(n,c)<0)return!1;return!0},r}()}).call(this);
},{"./lib/browser":5,"./utils":18}],11:[function(require,module,exports){
(function (process){(function (){
(function(){var t,e,n,s,i,r,o,u,l,a,d,c,p,h,f,v,_=function(t,e){return function(){return t.apply(e,arguments)}},g=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};s=require("../diagrams/diagrams"),e=require("../../configuration"),r=require("../targeting/targeting"),n=require("data-layers").DL,i=require("loader").Loader,f=require("../../dom-utils").doc_ready,v=null!=v?v:require("harness"),u=null,o=null,h=[],c=null,l=null,p=!0===(null!=v?v.single:void 0),d=null,t=function(){function t(t){var s;null==t&&(t={}),this.h_sess_set=_(this.h_sess_set,this),this._post=_(this._post,this),this.do_vs=_(this.do_vs,this),this.do=_(this.do,this),this._do=_(this._do,this),this.o=t,this.h=null!=(s=t.harness)?s:v,this.conf=e.merged(),this.dl=null!=o?o:o=new n(this.conf,this,this.o.dataLayer),this.use_q=!0===this.conf["js:ps-q"]&&null!=this.h.q_add}var a,y,b,w,A,q;return t.loader=new i(_d,v),t._isRelevant=function(t){return t&&(null!=_d.A[t.a]||null!=_d.G[t.g])},t._hasRelevant=function(e){return Array.isArray(e)&&e.some(t._isRelevant)},t.version=function(){return _d.v.v+" build "+_d.v.b+" ("+_d.v.d+" - "+new Date(1e3*_d.v.m).toUTCString()+")"},t.prototype.exec=function(t,e){return this.push({t:"e",steps:t,cb:e})},t.prototype.run=function(){return this.push({t:"r"})},t.prototype.push=function(t){return h.push(t),this._do()},t.prototype._do=function(){var t;if(!l&&h.length)switch(l=t=h.shift(),t.t){case"e":this.do_exec(t.steps,t.cb);break;case"r":this.do_run();break;case"v":this.do_vs(t.vs)}},t.prototype.do=function(){return l=null,this._do()},t.prototype.select=function(t){return this.exec([{a:t}]).sels[t]},t.prototype.reward=function(t,e){this.exec([{g:t,v:e}])},t.prototype.listAgents=function(){return Object.keys(_d.A)},t.prototype.hasAgent=function(t){return g.call(this.listAgents(),t)>=0},t.prototype.version=function(){return t.version()},t.prototype.do_exec=function(t,e){var n,i,r,o,u;return r=this._req(),q(r)?"function"==typeof e?e():void 0:(t=null!=(i=a(t))?i:[],A(t),r.steps=t,this.o.qa&&r.v&&(r.v.qa=!0),(u=new s.State(this.conf,r)).log("Activating: Conductrics API","i"),this._ses(u),y(u),n=function(t){return function(){var e,n,s,i,r,o;for(t._process(u),e=0,s=(r=(o={items:(i=u.out).res,sels:{},traits:u.tExt(),log:!0===t.o.debug?i.log.concat():void 0,ext:i.ext?i.ext:void 0}).items).length;s>e;e++)null!=(n=r[e]).a&&(o.sels[n.a]=n.c);return null!=t.o.sess&&(o.sess=JSON.stringify(u.sess)),o}}(this),"function"==typeof e?this._init(u,function(t){return function(s){return e(!1,n()),t.do()}}(this)):(this._targ(u),o=n(),setTimeout(this.do,1),o))},t.prototype.do_run=function(t){var e,n;return null==t&&(t="#init"),e=this._req(this.o.entry+"-pre"),q(e)?void 0:(n=null!=u?u.state:new s.State(this.conf,e),"#init"===t?n.log("Activating: Conductrics Express","i"):n.log("Activating: Conductrics View-State '"+t+"'","i"),this._ses(n),y(n),!0===this.o.globalEvents&&this._spaInit(n),new s.Runner(this.conf,function(t){return function(){return n.ep(t.o.entry),t._init(n,function(e){return w(t.conf["wa:ready"],function(){return t._process(n),n.log("(end)","i"),t.do()})})}}(this)).run(_d.diag,n))},t.prototype.discard=function(){return v.sess_del()},t.prototype.do_vs=function(t){var e,n,s;return null==u?void this.do():(n=u.state,s=null!=(e=this.conf["rt:spa-states"])?e:[],g.call(s,t)>=0?t!==n.vstate()||g.call(this.conf["rt:spa-states-m"],t)>=0?(n.vstate(t),this._preboot(n,function(e){return function(){return e._process(n),n.log("(end vstate)","x"),window.dispatchEvent(new CustomEvent("ConductricsStateChanged",{detail:t}))}}(this))):n.log("Already at '"+t+"'","x"):n.log("Unknown view-state '"+t+"'","x"),this.do())},t.prototype._req=function(t){var e,n,s;return null==t&&(t="api"),n=this.o,(s=this.h.env_get()).acc=_d.acc.c,s.ep=t,s.v.traits=n.traits,s.debug=s.debug||n.debug,s.ud=n.inputs,null==(e=s.v).vid&&(e.vid=n.vid),s},t.prototype._process=function(t){t.r._dl=this.dl,this._pre(t),new s.Runner(this.conf,this._post).run(_d.diag,t)},t.prototype._init=function(t,e){var n;this._preboot(t,(n=this,function(){return n._q_send(t),n._targ(t,e)}))},t.prototype._preboot=function(t,e){var n,s,i,r,o,u,l,a,d;if("function"!=typeof _wa_preboot)return e();if(u=s=t.ep(),g.call(null!=(l=this.conf["js:preboot-eps"])?l:["wax"],u)<0)return t.log("Skipping preboot ("+s+")","s"),e();if(a=d=t.vstate(),g.call(this.conf["rt:spa-states-pb"],a)<0)return t.log("Skipping preboot (view-state '"+d+"')","s"),e();o=function(t,e,n){var s,i,r,o,u,l,a,d;switch(null==n&&(n="pre"),!1){case!Array.isArray(t):for(l=[],i=0,u=t.length;u>i;i++)s=t[i],l.push(e.tAdd(s,n));return l;case"object"!=typeof t:for(r in a=[],t)switch(d=t[r],o=g.call(r,":")>=0,!1){case!(o&&d):a.push(e.tAdd(""+r,n));break;case!(!o&&"string"==typeof d):a.push(e.tAdd(r+":"+d,n));break;default:a.push(void 0)}return a}},r=null,i=function(n,s){return null==s&&(s={}),"string"==typeof s&&(s={vstate:s}),o(n,t),"string"==typeof s.vstate&&t.vstate(s.vstate),"string"==typeof s.vid&&(t.data["v.vid"]=s.vid),"object"==typeof s.inputs&&t.ud(s.inputs),"boolean"==typeof s.qa&&t.qa(s.qa),"boolean"==typeof s.dnt&&t.dnt(s.dnt),"function"==typeof s.selection_callback&&(null!=t.handlers?t.handlers:t.handlers=[]).push(s.selection_callback),"function"==typeof s.presend_callback&&(t.ps_cb=s.presend_callback),t.log("Preboot done ("+(Date.now()-r)+" ms elapsed)","s"),e()};try{r=Date.now(),t.log("Preboot running","s"),_wa_preboot(i)}catch(s){n=s,t.log("Preboot error: "+n,"e"),e()}},t.prototype._targ=function(t,e){var n,s,i,o;return t.dnt()?e():(o=_d.rt.tt,i=_d.rt.ttt,(n=void 0===e)&&(e=function(){}),o.length>0?(s=new r.Targeter(this.conf,this.h,n),t.log("Resolve targeting ("+o.length+")","t"),void s.resolve(t,o,function(n,s){var r,o,u;if(n)return e(n);for(r in o=s.values)null!=(u=o[r])&&(g.call(i,r)>=0?t.tAdd(r+":"+u,"apply"):(t.log("Set value '"+r+"' to "+u,"t"),t.data["targ."+r]=u));return e()})):e())},t.prototype._pre=function(t){var e,n,s,i,r;if((e=t.r._dl).enabled()&&(r=e.get(this.conf["dl:key-tr"]),Array.isArray(r)))for(n=0,s=r.length;s>n;n++)i=r[n],t.tAdd(i,"dl");t.data["v.sels"]=t.sess.sels},t.prototype._ses=function(t){var e,n,s,i,r,o,u,l,a,d,h;if(h=null!=(r=t.r.v)?r:{},a=this.h.sess_get(),process.env.C_SESS_FIX_652&&p&&null!=c&&(a={}),p&&null==a&&(c=null),t.r.newv&&(t.log("Treating as a new visitor","q"),c=this.o.sess=t.sess=a=null),l=t.sess=null!=c?c:{traits:null!=(o=null!=(u=h.traits)?u.cust:void 0)?o:[],sels:{},rwds:{}},s=function(){var t;try{return JSON.parse(null!=(t=this.o.sess)?t:a)}catch(t){}}.call(this),p&&(c=l),b(t.sess,s),t.vnAdv(),Array.isArray(i=null!=s?s.traits:void 0))for(e=0,n=i.length;n>e;e++)d=i[e],t.tAdd(d,"init")},t.prototype._post=function(t){var e,n;return e=t.out.work.splice(0),this.use_q&&e.length&&!t.dnt()&&this.h.q_add(e),this._presend(t,e,(n=this,function(){return n.h_sess_set(t),n._send(t,e),n.use_q?n.h.q_del():void 0}))},t.prototype.h_sess_set=function(t){var e;return t.dnt()||t.bot()?void 0:(e=t.sess,p&&this.conf["rt:av-sels"]&&Object.assign(e.sels,t.data["v.sels"]),e.traits=t.tSti(),e.vals=t.targ,this.h.sess_set(JSON.stringify(e),t.dirty))},t.prototype._q_send=function(t){var e,n;if(this.use_q&&!d&&(e=this.h.q_get(),d=!0,e.length))return this._presend(t,e,(n=this,function(){return n._send(t,e),n.use_q?n.h.q_del():void 0}))},t.prototype._presend=function(t,e,n){return t.ps_cb&&Array.isArray(e)&&e.length?(t.log("Waiting for presend callback","s"),t.ps_cb({},function(s){var i,r,o;if(t.log("Presend callback returned "+typeof s,"s"),s)for(i=0,o=e.length;o>i;i++)(r=e[i]).ctx&&s.vid&&(t.log("Presend callback returned id '"+s.vid+"'","s"),r.ctx.vid=s.vid);return t.ps_cb=null,n()})):n()},t.prototype._send=function(t,e){var n,s,i;switch(s=e.length,!1){case 0!==s:return;case!t.dnt():t.log("Not sending events ("+s+") due to DNT","q");break;case!t.bot():t.log("Not sending events ("+s+") because 'bot'","q");break;case!t.muted():t.log("Not sending events ("+s+") because 'muted': "+JSON.stringify(e),"q");break;default:t.log("Sending events ("+s+")","i"),n=(i=this.conf["event-queue:sqs-url"])+"?Action=SendMessage&Version=2012-11-05&MessageBody="+encodeURIComponent(JSON.stringify(e)),i.endsWith(".fifo")&&(n+="&MessageGroupId=ctrx"),this.h.beacon(n)}},b=function(t,e){return Object.assign(t,e)},t.prototype._spaInit=function(t){p&&(null==u&&(window.addEventListener("ConductricsStateChange",function(t){return function(e){return t.on(e.type,e.detail)}}(this)),window.addEventListener("ConductricsInternalState",function(t){return function(e){return t.h_sess_set(e.detail.state)}}(this))),u={state:t})},t.prototype.on=function(t,e){var n,s;switch(t){case"ConductricsStateChange":if("wax"===this.o.entry&&(null!=(n=this.conf["rt:spa-states"])?n.length:void 0)>0)return this.push({t:"v",vs:e});break;case"ConductricsCommands":if(Array.isArray(s=null!=e?e.commands:void 0))return this.exec(s,function(){})}},a=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t)}catch(t){}},y=function(t){t.log(_d.v.v+" build "+_d.v.b+" ("+_d.v.d+" Deploy #"+_d.v.n+" - "+new Date(1e3*_d.v.m).toUTCString()+")","i"),t.qa()&&t.log("QA visitor detected","q")},A=function(t){},w=function(t,e){switch(t){case"doc":return f(e);default:return e()}},q=function(t){var e;if(e=!0===t.abort)try{console.log("C:\\ 'Abort' flag detected; stopping.")}catch(t){}return e},t}(),(null!=(a=function(){return"undefined"!=typeof window&&null!==window?window:this}()).Conductrics?a.Conductrics:a.Conductrics={}).ClientApi=t,("undefined"!=typeof define&&null!==define?define.amd:void 0)&&define(["ClientApi"],t),("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports.ClientApi=t),("undefined"!=typeof __module&&null!==__module?__module.exports:void 0)&&(__module.exports.ClientApi=t),null!=v&&(v.ClientApi=t)}).call(this);
}).call(this)}).call(this,require('_process'))
},{"../../configuration":2,"../../dom-utils":4,"../diagrams/diagrams":14,"../targeting/targeting":17,"_process":7,"data-layers":"data-layers","harness":"harness","loader":"loader"}],12:[function(require,module,exports){
(function(){var e,conf;e=require("../../configuration"),conf=e.merged(),function(){var e,n,r;if(null!=("undefined"!=typeof window&&null!==window&&null!=(r=window.opener)?r.postMessage:void 0))e=function(e){var r,t;return(r=document.createElement("script")).src=e,(t=n())&&(r.nonce=t),document.getElementsByTagName("head")[0].appendChild(r)},n=function(){var e;return null!=(e=document.querySelector("script[nonce]"))?e.nonce:void 0},window.addEventListener("message",function(n){var r,t;switch(null!=(t=n.data)?t.type:void 0){case"wa-author-load":return r=n.data.d2?conf["admin-ui-server-d2:url"]:conf["admin-ui-server:url"],e(r+"/gen/wa-author-time.js"),e(r+"/js/mutation-summary.js"),e(r+"/js/css-parse.js")}}),window.opener.postMessage({type:"wa-rt-ready",pageUrl:document.location.href},"*")}()}).call(this);
},{"../../configuration":2}],13:[function(require,module,exports){
(function(){var e;require("../../data"),e=require("../../utils").Strings,function(){var t,n,o,c,r,i,d,u,a,l,s,m,f,p,g,h,q,v;if(("undefined"!=typeof document&&null!==document?document.querySelector:void 0)&&(m="c-conductrics",(f=window.location.search).indexOf(m)>=0||f.indexOf("__c-token")>=0)){for(s=e.qs(f),r=0,i=(p=["abort","muted","qa","debug","new"]).length;i>r;r++)if("true"===(g=v=s[d=m+"-"+(o=p[r])])||"false"===g)try{"abort"===o||"qa"===o?sessionStorage.setItem(d,v):localStorage.setItem(d,v),console.log("C:\\ set "+d+" to "+v)}catch(e){}(q=s[m+"-preview"])&&(l=decodeURIComponent(decodeURIComponent(unescape(atob(q)))),sessionStorage.setItem("c-conductrics-sels",l)),"true"===s[m+"-reload"]?function(){var e,t,n;for(e in n=""+window.location.href,s)0===e.indexOf(m)&&(t=e+"="+encodeURIComponent(s[e]),n=(n=n.replace("&"+t,"")).replace(""+t,""));"?"===n[n.length-1]&&(n=n.substr(0,n.length-1)),document.location.replace(n)}():(h=_d.rt,c=function(){var e,t;return(e=document.querySelector("script[nonce]"))?null!=(t=e.nonce)?t:e.getAttribute("nonce"):void 0},(a=s["__c-token"])&&(n="c-conductrics-preview-"+a,null==document.querySelector("script#"+n))&&((t=document.createElement("script")).id=n,t.src=h.s+"&__c-token="+a,(u=c())&&(t.nonce=u),document.head.appendChild(t)))}}()}).call(this);
},{"../../data":3,"../../utils":18}],14:[function(require,module,exports){
(function (process){(function (){
(function(){var t,n,e,r,s=function(t,n){return function(){return t.apply(n,arguments)}},o=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};e=require("../../utils"),t=require("../../bots").Bots,n=module.exports;try{r=require("log-styles").logger}catch(t){}exports.M=function(){function t(t){this.conf=t}var n,r;return t.prototype.getNodes=function(t){var n;return null!=(n=t.items)?n:[]},t.prototype.active=function(t,n){return!0},t.prototype.getConds=function(t,n){return t.conds},t.prototype.process=function(t,n){},t.prototype.isId=e.Strings.isId,t.prototype.wait=function(t,n){return setTimeout(n,t)},t.prototype.clone=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.sel=function(t){return r(t.selector,t.so)},t.prototype.closest=function(t,e){return n(t,e)},r=function(t,n){var e,r,s,o,i,u;if(null==n&&(n={}),s=document.querySelectorAll(t),n.t){for(e=[],o=0,i=s.length;i>o;o++)(null!=(u=(r=s[o]).textContent)?u.indexOf(n.t):void 0)>=0&&e.push(r);s=e}return(n.i>0||n.n>0)&&(s=Array.prototype.slice.call(s,n.i,n.n)),s},n=function(t,e){if(Element.prototype.closest)return t.closest(e);try{if(t.matches(e))return t;if(t.parentNode)return n(t.parentNode,e)}catch(t){}return null},t.prototype.addCSS=function(t,n){var e,r;"undefined"!=typeof document&&null!==document&&((r=document.createElement("style")).type="text/css",r.className=n,null!=r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),(e=this.getStyleNonce())&&(r.nonce=e),document.getElementsByTagName("head")[0].appendChild(r))},t.prototype.getStyleNonce=function(){var t,n;return void 0===_d.style_nonce&&(_d.style_nonce=null!=(t=null!=(n=document.querySelector("style[nonce]"))?n.nonce:void 0)?t:null),_d.style_nonce},t}(),n.Runner=function(){function t(t,e){this.conf=t,this.ph=e,this.mf=new n.MFactory(this.conf)}var r;return t.prototype.run=function(t,n){return this.exec(t,n)},t.prototype.exec=function(t,n){return this.walk(t,n),this.ph(n)},t.prototype.walk=function(t,n){var e,s,o,i,u;if(null!=(i=this.mf.provide(t))&&r(i,t,n)&&!i.process(t,n,this))for(s=0,o=(u=i.getNodes(t)).length;o>s;s++)e=u[s],this.walk(e,n)},t.prototype.find=function(t,n,e,s){var o,i,u,a,l;if(null==s&&(s=[]),null==(a=this.mf.provide(t)))return!1;if(!r(a,t,n))return!1;for(e(t)&&s.push(t),i=0,u=(l=a.getNodes(t)).length;u>i;i++)o=l[i],this.find(o,n,e,s);return s},t.prototype.resume=function(t,n){var e;return e={module:"root",items:t.items.concat()},this.exec(e,n)},r=function(t,n,r){var s,o;switch(!1){case!!t.active(n,r):case!((null!=(o=s=t.getConds(n,r))?o.length:void 0)>0&&!e.Conds.evalConds(s,r,n.module)):return!1;default:return!0}},t}(),exports.Conds=e.Conds,n.MFactory=function(){function t(t){this.conf=t}return t.prototype.provide=function(t){var n;n=t.module;try{return new(0,require("./modules/"+n).m)(this.conf)}catch(t){return console.log("Can't provide '"+n+"'","e"),null}},t}(),n.State=function(){function n(n,r){var i,u,a,l,c,d,p,h,f,v,y,g,m,w,q,x,b,S,A,C;if(this.conf=n,null==r&&(r={}),this.tAdd=s(this.tAdd,this),this.r=r,this.out={status:200,res:[],sel:{},log:[],work:[]},A=null!=(h=r.v)?h:{},C=Array.isArray(A.vid)&&A.vid.length>0?A.vid.join("||"):A.vid,a=!0===this.conf["qa:v-qa"]||"true"===(f=A.qa)||!0===f,this.debug=r.debug||this.conf["js:debug-all"],this.dirty={},this.data={"v.ip":A.ip,"v.ua":A.ua,"v.vid":C,"v.ref":A.ref,"v.tzo":A.tzo,"v.ts":Math.floor(null!=(v=r.ts>9999999999?r.ts/1e3:r.ts)?v:(new Date).getTime()/1e3),"v.traits":["*"],"v.qa":a,"v.bot":new t(this.conf).detect(A.ua),ud:{},"d.ep":null!=(y=r.ep)?y:"wax","d.dc":function(){return _d.v.d},selex:function(t){try{return null!=document.querySelector(decodeURIComponent(t))}catch(t){}},selval:function(t){try{return document.querySelector(decodeURIComponent(t)).value}catch(t){}},seltc:function(t){try{return document.querySelector(decodeURIComponent(t)).textContent}catch(t){}},gh:function(t){return function(n){return t.rwdHas(n)}}(this),gse:function(t){return function(n){return t.rwdEls(n)}}(this),wf:function(t){var n;try{return"function"==typeof(n=e.nested(t,window))?n():n}catch(t){}},dl:function(t){var n;return null!=(n=r._dl)?n.get(t):void 0},st:function(t){var n,r,s,i,u;try{return(r="="===t[0]&&o.call(t,":")>=0)&&(i=t.slice(1).split(":"),t=i[0],s=i[1]),u="function"==typeof(n=null!=n?n:require("harness")).st_get?n.st_get(t):void 0,r&&(u=e.Obj.read(JSON.parse(u),s)),u}catch(t){}}},this.dnt(A.dnt),this.loc(null!=(g=A.loc)?g:{}),this.data["v.sid"]=A.sid,this.ud(r.ud),"string"==typeof this.r.sels)for(l=0,d=(m=this.r.sels.split(",")).length;d>l;l++)i=(w=m[l].split(":"))[0],u=w[1],this.selPre(i,u);if((null!=(q=A.traits)?q.length:void 0)>0)for(c=0,p=(x=A.traits).length;p>c;c++)S=x[c],this.tAdd(S,"api");this.vstate(null!=(b=A.vstate)?b:"#init")}var i,u,a,l;return n.prototype._conf=function(t){return this.conf[t]},u=function(t,n){var e;return null!=(e=_d.A[t])?e.a.c[n]:void 0},n.prototype.loc=function(t){return t?Object.assign(this.data,{"v.loc":t,"v.loc.path":t.pathname,"v.loc.qs":e.Strings.qs(t.search),"v.loc.qx":t.protocol+"//"+t.host+t.pathname}):void 0},n.prototype.ud=function(t){return Object.assign(this.data.ud,a(t))},n.prototype.stepSet=function(t){return this.step=t},n.prototype.resp=function(t){return this.out.res.push(t)},n.prototype.respGet=function(t){var n,e,r,s;for(e=0,r=(s=this.out.res).length;r>e;e++)if((n=s[e]).a===t)return n},n.prototype.keep=function(){try{return window.dispatchEvent(new CustomEvent("ConductricsInternalState",{detail:{state:this}}))}catch(t){}},n.prototype.done=function(t){var conf,n,r,s,o;return conf=this.conf,s=this.qa()?conf["qa:env"]:conf["acc:env"],null!=t.a&&(t.a=e.Strings.qualify(t.a,conf["acc:code"],s)),null!=t.fs&&(r=conf["rt:tr-ids"],t.fs=t.fs.map(function(t){var n;return null!=(n=r[t])?n:t})),null==t.ds&&(t.ds=_d.rt.ds),process.env.C_SEND_CTX&&(n=t.ctx={},conf["pass:ua"]&&(n.ua=this.data["v.ua"]),conf["pass:ip"]&&(n.ip=this.data["v.ip"]),conf["pass:loc"]&&(n.loc=null!=(o=this.data["v.loc"])?o.href:void 0),conf["pass:vid"]&&(n.vid=this.data["v.vid"],!n.vid&&conf["pass:sid"]&&(n.vid=this.data["v.sid"])),(conf["pass:qa"]||conf["pass:qax"])&&(n.qa=this.qa())),this.out.work.push(t)},n.prototype.dnt=function(t){return"boolean"==typeof t&&(this.qa()&&(this.log("DO-NOT-TRACK flag detected, but ignoring because QA Mode is in effect.","e"),t=!1),t&&this.log("DO-NOT-TRACK visitor detected; will not persist or send any data.","e"),this.data["v.dnt"]=t),!0===this.data["v.dnt"]},n.prototype.bot=function(){return null!=this.data["v.bot"]},n.prototype.ep=function(t){var n;return n=this.data,null!=t?(this.log("Entry point "+t,"i"),n["d.ep"]=t):n["d.ep"]},n.prototype.muted=function(){return this.r.muted},n.prototype.reread=function(){return this.data["v.sels"]=this.sess.sels},n.prototype.selAdd=function(t){var n,e;if(null!=(null!=t?t.a:void 0)&&null!=t.c)switch(e=this.data["v.sels"],this.out.sel[t.a]=t,n=e[t.a],t.p){case"s":if(n&&n.s!==t.s)return n.s=t.s,this.dirty.s=!0;break;default:return e[t.a]=t,null!=this.sess.rwds[t.a]&&(this.sess.rwds[t.a]={}),this.dirty.s=!0}},n.prototype.selDel=function(t){return this.selHas(t)?(this.log("Discarding selection for agent "+t,"a"),delete this.data["v.sels"][t],this.sess.rwds[t]={},this.dirty.s=!0):void 0},n.prototype.selGet=function(t){var n,e,r,s;return s=null!=(e=u(t,"a:sd-ttl"))?e:this.conf["a:sd-ttl"],null!=(n=this.data["v.sels"][t])&&n.ts+s>=l()&&n.ts>=(null!=(r=_d.A[t])?r.drts:void 0)?(null==n.fs&&(n.fs=this.tr().concat()),n):void 0},n.prototype.selHas=function(t){return null!=this.data["v.sels"][t]},n.prototype.selRed=function(t,n){return n instanceof Array?(this.data["a.sel-reduce:"+t]=n,void this.log("Reducing choices for "+t+" to ["+n+"]","a")):this.data["a.sel-reduce:"+t]},n.prototype.selPre=function(t,n){return"string"==typeof n?(this.data["a.sel-pre:"+t]=n,this.selRed(t,[n])):this.data["a.sel-pre:"+t]},n.prototype.rwdAdd=function(t,n,e){var r,s;return r=this.sess.rwds[t],Array.isArray(r[n])&&(r[n]=void 0),null==(s=null!=r[n]?r[n]:r[n]={}).n&&(s.n=0),s.n+=1,null==s.v&&(s.v=0),s.v+=e,s.ts=l(),this.dirty.r=!0},n.prototype.rwdHas=function(t){var n,e,r;for(n in e=this.sess.rwds)if((r=e[n][t])&&r.n>0)return!0;return!1},n.prototype.rwdEls=function(t){var n,e,r;for(n in e=this.sess.rwds)if((r=e[n][t])&&r.ts>0)return l()-r.ts;return null},n.prototype.rwdCnt=function(t,n){var e,r,s;return null!=(e=null!=(r=this.sess.rwds[n])&&null!=(s=r[t])?s.n:void 0)?e:0},n.prototype.polSet=function(t,n){return"string"!=typeof t||"a"!==n&&"r"!==n&&"c"!==n&&"p"!==n&&"b"!==n&&"x"!==n||(this.data["a.sel-pol:"+t]=n,0)?void 0:this.log("Setting policy for "+t+" to (policy "+n+")","a")},n.prototype.polHas=function(t){return null!=this.polGet(t)},n.prototype.polGet=function(t){return this.data["a.sel-pol:"+t]},n.prototype.vstate=function(t){var n,e,r,s,i;return e=this.data,0===arguments.length?e["v.vstate"]:(i=null!=(s=this.conf["rt:spa-states"])?s:"",n=this.vstate(),(r=o.call(i,t)>=0&&t!==n)&&(null!=e["v.vstate"]&&this.log("view-state is now '"+t+"' (was '"+n+"')","x"),"#init"!==t&&this.mdn()&&this.loc(window.location),e["v.vstate"]=t),r)},n.prototype.qa=function(t){return"boolean"==typeof t?(this.log("QA Mode: "+t,"q"),this.data["v.qa"]=t):!0===this.data["v.qa"]},n.prototype.tr=function(){return this.data["v.traits"]},n.prototype.tFor=function(t){var n,e,r,s,i,u,a,l,c,d;if(e=null!=(a=_d.A[t])?a:{},s=null!=(l=e.fs)?l:this.tr(),d=this.tr().filter(function(t){var n;return"*"===t||(n=t.split(":")[0],o.call(s,n)>=0)}).slice(0,this.conf["targ:traits-agent-max"]),e.aa)for(i=0,u=(c=e.aa).length;u>i;i++)(n=c[i]).tr&&(r=this.selGet(n.aa))&&d.push("cust/"+n.tr+":"+r.c);return d},n.prototype.tExt=function(){return this.tr().filter(function(t){return 0===t.indexOf("cust/")})},n.prototype.tSti=function(){return this.tExt().filter(function(t){var n;return n=t.split(":")[0],o.call(_d.rt.eph,n)<0})},n.prototype.tMap=function(t){var n,e,r,s,o,i;for(o={"*":1},e=this.conf["rt:tr-ids"],r=0,s=t.length;s>r;r++)o[null!=(i=e[n=t[r]])?i:n]=1;return o},n.prototype.tHas=function(t){return t=i(t),o.call(this.data["v.traits"],t)>=0},n.prototype.ttHas=function(t){return this.data["v.traits"].some(function(n){return n.split(":")[0]===t})},n.prototype.tAdd=function(t,n){var e,r,s,u,a,l,c,d,p,h;if(u=(a=(t=i(t)).split(":"))[0],h=a[1],"def"===n){if(this.ttHas(u))return}else if("init"===n&&o.call(_d.rt.eph,u)>=0)return;if(!h)return!1;if(t.indexOf(" ")>-1&&(t=(u=u.trim())+":"+(h=h.trim())),(e=null!=(c=(p=null!=(l=_d.T[u])?l:{}).al)?c:{})[h]&&(this.log("Trait alias '"+h+"' mapped to value '"+e[h]+"'","t"),t=u+":"+(h=e[h])),this.tHas(t))return!1;if(s="init"===n,null!=(r=this.data["targ."+u]))switch(null!=(d=p.me)?d:"l"){case"f":if(!s)return!1;this.tDel(u+":"+r);break;case"l":if(s)return!1;this.tDel(u+":"+r)}return this.data["targ."+u]=h,this.data["v.traits"].push(t),s||0===u.indexOf("cust/")&&(this.dirty.t=!0),this.log("Added trait '"+t+"' ("+n+")","t"),!0},n.prototype.tDel=function(t){var n,e,r;return t=i(t),!!this.tHas(t)&&(n=(r=t.split(":"))[0],r[1],null!=n&&(this.data["targ."+n]=void 0,(e=this.data["v.traits"].indexOf(t))>-1&&this.data["v.traits"].splice(e,1),this.log("Removed trait '"+t+"'","t"),!0))},i=function(t){switch(!1){case"*"!==t:return"*";case o.call(t,"/")>=0:return"cust/"+t;default:return t}},n.prototype.plAdd=function(t){var n,e,r;return n=null!=(e=null!=(r=this.data["v.pl"])?r.split(","):void 0)?e:[],o.call(n,t)<0&&n.push(t),this.data["v.pl"]=n.join(",")},n.prototype.vn=function(){var t;return null!=(t=this.sess.vn)?t:0},n.prototype.vnAdv=function(){var t,n,e,r,s;t=null!=(e=(s=this.sess).vts)?e:0,(n=l())>t+this.conf["a:vis-ttl"]&&(s.vn=(null!=(r=s.vn)?r:0)+1),s.vts=n},n.prototype.log=function(t,n){return this.out.log.push(t),this.debug?(t="C:\\ ["+this.out.log.length+"] "+t,r?r(t,n):console.log(t)):void 0},n.prototype.mdn=function(){return this.r.mdn},n.prototype.qualify=function(t){return e.Strings.qualify(t,this.conf["acc:code"],this.conf["acc:env"])},l=function(){return e.Dates.stamp()},a=function(t){var n,e,r,s;if(t){for(n in r={},t)("string"==(e=typeof(s=t[n]))||"number"===e||"boolean"===e)&&(r[n]=s);return r}},n}(),exports.Reapplyer=function(){function t(t,n,e,r){this.cb=t,this.targets=null!=n?n:[],this.opts=null!=e?e:{characterData:!0,subtree:!0,attributes:!0,childList:!0},this.max=null!=r?r:100,this.on=s(this.on,this);try{this.o=new MutationObserver(this.on)}catch(t){}this.n=0}return t.prototype.start=function(){var t,n,e,r,s;for(t=0,n=(e=this.targets).length;n>t;t++)s=e[t],this.o&&1===s.nodeType&&null!=(r=this.o)&&r.observe(s,this.opts)},t.prototype.stop=function(){var t;return null!=(t=this.o)?t.disconnect():void 0},t.prototype.on=function(t,n){return this.n++<=this.max?(this.stop(),this.cb(),this.start()):void 0},t}()}).call(this);
}).call(this)}).call(this,require('_process'))
},{"../../bots":1,"../../utils":18,"_process":7,"harness":"harness","log-styles":"log-styles"}],15:[function(require,module,exports){
(function(){exports._resolve=function(e,a,s){var c,r,t,n;return n=a+60*s,isFinite(n)?(r=new Date(1e3*n),c=r.getUTCDay(),t=r.getUTCHours(),function(){switch(e){case"wp":switch(c){case 0:case 6:return"we";default:return"wd"}break;case"dp":switch(t){case 6:case 7:case 8:case 9:case 10:case 11:return"m";case 12:case 13:case 14:case 15:case 16:return"a";case 17:case 18:case 19:case 20:return"e";default:return"n"}break;case"d":return["su","mo","tu","we","th","fr","sa"][c];case"h":return t;case"z":return Math.floor(s/60);case"ts":return a}}()):null}}).call(this);
},{}],16:[function(require,module,exports){
(function(){exports.registry=function(){function n(conf){this.conf=conf}return n.prototype.getPlugin=function(n,e,t){var o,r;try{if(o=require("./plugins/"+n).p,!0===e&&!0!==r.sync)return;return(r=new o(this.conf))&&(r.harness=t),r}catch(e){return e,"undefined"!=typeof console&&null!==console&&console.log("Plugin '"+n+"' unavailable","e"),null}},n}()}).call(this);
},{}],17:[function(require,module,exports){
(function(){var t,n,r,e,l=[].indexOf||function(t){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===t)return n;return-1};r=require("../../utils"),t=require("./registry"),(n=exports).Plugin=function(){function t(){}return t.prototype.ttl=function(t){return 3600},t.prototype.as_code=function(t){return null!=t?t.replace(/[^A-Za-z0-9_-]/g,"-"):void 0},t.prototype.active=function(t){return!0},t.prototype.resolve=function(t,n,r,e){return e()},t}(),n.Targeter=function(){function n(n,r,e){this.conf=n,this.harness=r,this.sync_only=e,this.registry=new t.registry(this.conf),this.mode=null!=this.harness?"b":"s",this.account=null}return n.prototype.resolve=function(t,n,u){var o,s,i,a,c,v;return(null!=n?n.length:void 0)>0?(a={values:{}},o=null!=t.targ?t.targ:t.targ=null!=(s=null!=(i=t.sess)?i.vals:void 0)?s:{},this.sync_only&&t.log("In sync mode; async targeting lookups will be skipped.","t"),c=[],v=r.Dates.stamp(),e(n,function(n){return function(r,e){var u,s,i,d,f,h,g,p,y;return null!=(f="undefined"!=typeof _dd&&null!==_dd&&null!=(h=_dd.targ)?h.v[r]:void 0)?(a.values[r]=f,e(!1,a)):(i=(g=r.split("/"))[0],u=g[1],(d=n.registry.getPlugin(i,n.sync_only,n.harness))?(d.account=n.account,d.active(t)?(y=d.ttl(u),void 0!==o[r]&&y>0&&o[r].ts+y>v?(a.values[r]=o[r].v,e(!1,a)):(s=null!=(p=d.constructor.modes)?p:[],"b"===n.mode&&l.call(s,"b")<0&&l.call(s,"s")>=0?(c.push(r),e(!1,a)):d.resolve(t,u,o[r],function(t,u){return t?e(t):(a.values[r]=u,o[r]=null!=u&&y>0?{v:u,ts:v}:void 0,null===u&&"b"===n.mode&&l.call(s,"s")>=0&&c.push(r),e())}))):e()):e())}}(this),function(n){return function(e){var l,conf,s,i,d,f,h,g,p,y,_;if(e)return u(e);if(conf=n.conf,0===c.length)return u(!1,a);if(p=conf["rt:sl-rate"],y=r.Rand.coin(p),t.log("Resolve ["+c+"] on server? "+y+" ("+p+")","t"),!y){for(i=0,f=c.length;f>i;i++)l=c[i],o[l]={v:null,ts:v};return u(!1,a)}for(_=conf["targ:lookup-url"]+"?codes="+c.join(",")+"&apikey="+_d.acc.k+"&vid="+t.data["v.vid"],d=0,h=(g=["ua","ip"]).length;h>d;d++)s=g[d],null!=t.data["v."+s]&&(_=_+"&"+s+"="+escape(t.data["v."+s]));return n.harness.http("GET",_,conf["targ:ext-tms"],function(n,r){var e,s,i,d,f,h,g;if(n)return t.log("Could not resolve: "+c+" ("+n+")","t"),u(!1,a);try{for(s=JSON.parse(r).data,h=[],i=0,d=c.length;d>i;i++)l=c[i],g=null!=(f=s.values[l])?f:null,t.log("Resolved on server: '"+l+"' ("+g+")","t"),null==(e=a.values)[l]&&(e[l]=g),h.push(o[l]={v:g,ts:v});return h}finally{return u(!1,a)}})}}(this))):u(!1,{})},n}(),n.geo_dm=function(conf,t){var n;switch(n=null!=conf?conf["acc:c-dom"]:void 0,!1){case void 0!==n:case null!=t&&""!==t:return"x";case l.call(n,t)<0:return"d";default:return"i"}},e=function(t,n,r){var e,l,u;return l=-1,u=t.length,(e=function(){return++l===u?r():n(t[l],function(t){return t&&r(t),e()})})()}}).call(this);
},{"../../utils":18,"./registry":16}],18:[function(require,module,exports){
(function (process){(function (){
(function(){var n,t=[].slice,e=[].indexOf||function(n){for(var t=0,e=this.length;e>t;t++)if(t in this&&this[t]===n)return t;return-1};switch(n={},!1){case"undefined"==typeof define||null===define:define(function(){return n});break;case"undefined"==typeof module||null===module:module.exports=n}n.Obj=function(){function n(){}return n.extend=function(){var n,e,r,i,o,u;for(n=arguments[0],e=0,i=(u=2<=arguments.length?t.call(arguments,1):[]).length;i>e;e++)for(r in o=u[e])n[r]=o[r];return n},n.read=function(n,t){var e;for(e=t.split(".");e.length&&(n=n[e.shift()]););return n},n}(),n.Dates=function(){function n(){}return n.now=function(){var n;return null!=(n="function"==typeof Date.now?Date.now():void 0)?n:(new Date).getTime()},n.stamp=function(){return Math.floor(this.now()/1e3)},n}(),n.Rand=function(){function n(){}return n.pick=function(n,t){var e,r,i,o,u,f;for(u=0,r=0,i=t.length;i>r;r++)u+=t[r];for(e in 0===u&&(t=n.map(function(n){return 1}),u=n.length),o=Math.random()*u,f=0,t)if((f+=t[e])>o)return n[e]},n.coin=function(n){return n>1||n>=0&&this.pick([!0,!1],[n,1-n])},n}(),n.Conds=function(){function t(){}var r;return t.evalConds=function(e,r,i){var o,u,f,l,c,a,s,d,h;if(!((null!=e?e.length:void 0)>0))return!1;if(d=null!=(e=e.concat())[e.length-1].mode?e.pop():{mode:"all"},0===e.length)return"all"===(h=d.mode)||"any"===h;if("sets"===d.mode)return e.length>0&&e.every(function(t){return n.Conds.evalConds(t,r,i)});if("setsor"===d.mode)return e.some(function(t){return n.Conds.evalConds(t,r,i)});switch(d.mode){case"all":for(u=0,f=e.length;f>u;u++)if(o=e[u],!t.evalCond(o,r,i))return!1;return!0;case"any":for(a=0,l=e.length;l>a;a++)if(o=e[a],t.evalCond(o,r,i))return!0;return!1;case"none":for(s=0,c=e.length;c>s;s++)if(o=e[s],t.evalCond(o,r,i))return!1;return!0;default:throw Error("Unknown conds mode '"+d.mode+"'")}},t.evalCond=function(e,r,i){var o,u,f,l,c,a,s;return null==i&&(i=""),u=e[0],l=e[1],s=e[2],u=n.Strings.interpolate(u,r.data),s=n.Strings.interpolate(s,r.data),("gt"===l||"gte"===l||"lt"===l||"lte"===l)&&("string"==typeof u&&(u=parseFloat(u)),"string"==typeof s&&(s=parseFloat(s))),c=null!=(a="function"==typeof(o=t.ops)[l]?o[l](u,s):void 0)&&a,"undefined"!=typeof process&&null!==process&&(f=c?"ct":"cf",r.log("Condition "+c+": "+e+" ("+u+") ("+s+") ["+i+"]",f)),c},t.ops={is:function(n,t){return n===t},isnt:function(n,t){return n!==t},mp:function(t,e){return!0===n.Strings.pmatch(t,e,!0)},"mp-not":function(t,e){return!1===n.Strings.pmatch(t,e,!0)},gt:function(n,t){return n>t},lt:function(n,t){return t>n},gte:function(n,t){return n>=t},lte:function(n,t){return t>=n},in:function(n,t){return""!==n&&t.indexOf(n)>=0},nin:function(n,t){return""===n||-1===t.indexOf(n)},sw:function(n,t){return n.slice(0,t.length)===t},ew:function(n,t){return n.slice(-t.length)===t},re:function(n,t){try{return RegExp(t).test(n)}catch(n){return n,!1}},sub:function(n,t){return("function"==typeof n.indexOf?n.indexOf(t):void 0)>=0},"sub-not":function(n,t){return!(("function"==typeof n.indexOf?n.indexOf(t):void 0)>=0)},"has-any":function(n,t){var i,o,u;if(!((n=r(n)).length>0&&t.length>0))return!1;for(i=0,o=t.length;o>i;i++)if(u=t[i],e.call(n,u)>=0)return!0;return!1},"has-all":function(n,t){var i,o,u;if(!((n=r(n)).length>0&&t.length>0))return!1;for(i=0,o=t.length;o>i;i++)if(u=t[i],e.call(n,u)<0)return!1;return!0},"has-none":function(n,t){var i,o,u;if(!((n=r(n)).length>0&&t.length>0))return!0;for(i=0,o=t.length;o>i;i++)if(u=t[i],e.call(n,u)>=0)return!1;return!0}},r=function(n){switch(!1){case""!==n:return[];case"string"!=typeof n:return n.split(",");default:return n}},t}(),n.Strings=function(){function n(){}var t,e;return t=/^[A-Za-z0-9_-]+$/,e=/\$\{([A-Za-z0-9.:_=%-]+)\}/g,n.isId=function(n,e){var r,i,o;if(null==e&&(e=!1),"undefined"===n||"string"!=typeof n)return!1;if(e){if(!((o=n.split(":")).length>1))return!1;for(r=0,i=o.length;i>r;r++)if(n=o[r],!this.isId(n))return!1;return!0}return"string"==typeof n&&n.length<=100&&t.test(n)},n.interpolate=function(t,e){var r,i,o,u,f,l;if(Array.isArray(t))return t;if(0===(o=n.interkeys(""+t)).length)return t;for(f=""+t,r=0,u=o.length;u>r;r++)i=o[r],l=n.propeval(i,e),f=f.replace("${"+i+"}",null!=l?l:"");return f},n.interkeys=function(n){var t,r;if("string"!=typeof n)return[];if(-1===n.indexOf("${"))return[];if("${"===n.slice(0,2)&&-1===n.indexOf("::")&&n.indexOf("}")===n.length-1)return[n.slice(2,-1)];for(r=[];null!=(t=e.exec(n));)r.push(""+t[1]);return r},n.propeval=function(n,t){var e,r,i,o,u,f;for(f=t,e=r=0,i=(u=o=n.split("::")).length;i>r&&null!=(f=f[u[e]]);e=++r)if("function"==typeof f)return f(o[e+1]);return f},n.isNum=function(n){return""+ +n===n},n.parseUrl=function(n){var t,e,r,i,o,u,f;switch(!1){case!(null==n):return null;case"object"!=typeof n:return n;case"undefined"==typeof window||null===window:if(window.location.href===n)return window.location;try{return new window.URL(n)}catch(l){l;try{for(t=$("<a>",{href:n})[0],o={},e=0,i=(u=["hash","hostname","href","pathname","port","protocol","search"]).length;i>e;e++)o[r=u[e]]=null!=(f=t[r])?""+f:void 0;return o.pathname.length>0&&"/"!==o.pathname[0]&&(o.pathname="/"+o.pathname),o}catch(n){return void n}}break;default:return require("url").parse(n)}},n.pmatch=function(n,t,e){return null==e&&(e=!1),e&&(n=this.pnorm(n),t=this.pnorm(t)),t=t.replace(/\*/g,"[\\S]*"),RegExp("^"+t+"$").test(n)},n.pnorm=function(n){return n.length>1&&"/"!==n.slice(-1)&&"*"!==n.slice(-1)?n+"/":n},n.qualify=function(n,t,e){return-1===n.indexOf(":")?t+":"+n+":"+e:n},n.qs=function(n){var t,e,r,i,o,u,f;if(u={},"string"!=typeof n)return u;for(t=0,r=(o=(n=n.trim().replace(/^(\?|#|&)/,"")).split("&")).length;r>t;t++)e=(i=o[t].replace(/\+/g," ").split("=")).shift(),f=i.length>0?i.join("="):void 0,u[decodeURIComponent(e)]=null!=f?decodeURIComponent(f):null;return u},n}(),n.nested=function(n,t,e){return null==e&&(e="."),n.split(e).reduce(function(n,t){return null!=n?n[t]:void 0},t)}}).call(this);
}).call(this)}).call(this,require('_process'))
},{"_process":7,"url":6}],"data-layers":[function(require,module,exports){
(function(){var t=function(t,n){return function(){return t.apply(n,arguments)}},n=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};exports.DL=function(){function e(conf,n,e,s){this.conf=conf,this.listener=n,null==e&&(e="dataLayer"),null==s&&(s=window),this.sub=t(this.sub,this),this._on=t(this._on,this),this.subs=[],this.dl=function(){switch(typeof e){case"string":return null!=s[e]?s[e]:s[e]=[];case"object":return e;default:return}}(),this.enabled()&&(null==s.DataLayerHelper&&require("dl-helper"),this.dlh=new s.DataLayerHelper(this.dl,this._on,!0))}return e.prototype.enabled=function(){var t;return"function"==typeof(null!=(t=this.dl)?t.push:void 0)},e.prototype.get=function(t){return this.enabled()?this.dlh.get(t):void 0},e.prototype.push=function(t,n){var e;return this.enabled()?this.dl.push(((e={event:t})[""+t]=n,e)):void 0},e.prototype._on=function(t,n){var e,s,i,r,o,u,h;switch(!1){case"string"!=typeof(h=n[this.conf["dl:key-vs"]]):return this.listener.on("ConductricsStateChange",h);case!Array.isArray(e=n[this.conf["dl:key-ex"]]):return this.listener.on("ConductricsCommands",{commands:e});case"string"!=typeof n.event:for(u=[],i=0,r=(o=this.subs).length;r>i;i++)s=o[i],u.push(s(n));return u}},e.prototype.sub=function(t){var e,s,i,r;if(!(n.call(this.subs,t)>=0)){if(this.enabled()&&this.conf["dl:past-events"])for(e=0,s=(r=this.dl).length;s>e;e++)"string"==typeof(i=r[e]).event&&t(i);this.subs.push(t)}},e.prototype.unsub=function(t){return this.subs.splice(this.subs.indexOf(t),1)},e}()}).call(this);
},{"dl-helper":"dl-helper"}],"dl-helper":[function(require,module,exports){
!function(){function t(t){return null==t?t+"":(t=f.exec(Object.prototype.toString.call(Object(t))))?t[1].toLowerCase():"object"}function r(t,r){return Object.prototype.hasOwnProperty.call(Object(t),r)}function n(n){if(!n||"object"!=t(n)||n.nodeType||n==n.window)return!1;try{if(n.constructor&&!r(n,"constructor")&&!r(n.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(var e in n);return void 0===e||r(n,e)}function e(t,r,n){this.b=t,this.f=r||function(){},this.d=!1,this.a={},this.c=[],this.e=o(this),i(this,t,!n);var e=t.push,c=this;t.push=function(){var r=[].slice.call(arguments,0),n=e.apply(t,r);return i(c,r),n}}function i(r,e,i){for(r.c.push.apply(r.c,e);!1===r.d&&0<r.c.length;){if("array"==t(e=r.c.shift()))t:{var o=e,f=r.a;if("string"==t(o[0])){for(var u=o[0].split("."),s=u.pop(),p=(o=o.slice(1),0);p<u.length;p++){if(void 0===f[u[p]])break t;f=f[u[p]]}try{f[s].apply(f,o)}catch(t){}}}else if("function"==typeof e)try{e.call(r.e)}catch(t){}else{if(!n(e))continue;for(var l in e)a(c(l,e[l]),r.a)}i||(r.d=!0,r.f(r.a,e),r.d=!1)}}function o(t){return{set:function(r,n){a(c(r,n),t.a)},get:function(r){return t.get(r)}}}function c(t,r){for(var n={},e=n,i=t.split("."),o=0;o<i.length-1;o++)e=e[i[o]]={};return e[i[i.length-1]]=r,n}function a(e,i){for(var o in e)if(r(e,o)){var c=e[o];"array"==t(c)?("array"==t(i[o])||(i[o]=[]),a(c,i[o])):n(c)?(n(i[o])||(i[o]={}),a(c,i[o])):i[o]=c}}var f=/\[object (Boolean|Number|String|Function|Array|Date|RegExp)\]/;window.DataLayerHelper=e,e.prototype.get=function(t){var r=this.a;t=t.split(".");for(var n=0;n<t.length;n++){if(void 0===r[t[n]])return;r=r[t[n]]}return r},e.prototype.flatten=function(){this.b.splice(0,this.b.length),this.b[0]={},a(this.a,this.b[0])}}();
},{}],"harness":[function(require,module,exports){
(function(){var t,e,n,o,r,c,u;n="cp-sess",e="cp-hold",r=function(t){try{return localStorage.getItem(t)}catch(t){}},o=function(t){try{return decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}catch(t){}},module.exports=t={single:!0,sess_get:function(){return r(n)},sess_set:function(t){try{localStorage.setItem(n,t)}catch(t){}},sess_del:function(){try{localStorage.removeItem(n)}catch(t){}},beacon:function(e){navigator.sendBeacon?navigator.sendBeacon(e):t.http("GET",e)},http:function(t,e,n,o){var r;null==n&&(n=2e3),r=new XMLHttpRequest,null!=o&&(r.onload=function(){return o(!1,r.responseText)},r.ontimeout=function(){return o("timeout")},r.onerror=function(){return o("HTTP error ("+r.status+")")}),r.open(t,e),r.timeout=n,r.send()},st_get:function(t){var e,n;if(t)try{return null!=(e=null!=(n=o(t))?n:sessionStorage.getItem(t))?e:localStorage.getItem(t)}catch(t){}},env_get:function(){var t,e,n;if(t="true"===r("c-conductrics-new"))try{localStorage.removeItem("c-conductrics-new")}catch(t){}return{mdn:(e=c())?"m":"n",v:{ua:navigator.userAgent,loc:window.location,ref:window.document.referrer,ts:Date.now()/1e3,tzo:0-(new Date).getTimezoneOffset(),dnt:!e||1===(n=navigator.doNotTrack)||"1"===n||!u(),vid:this.st_get(_d.conf["targ:vid"]),qa:this.st_get(_d.conf["qa:st-key"])},debug:"true"===r("c-conductrics-debug"),muted:"true"===r("c-conductrics-muted"),abort:"true"===r("c-conductrics-abort"),newv:t,sels:this.st_get("c-conductrics-sels")}},log:function(){return"undefined"!=typeof console&&null!==console?console.log.call(this,arguments):void 0},q_get:function(){var t;try{t=JSON.parse(sessionStorage.getItem(e))}catch(t){}return Array.isArray(t)||(t=[]),t},q_add:function(t){t.length>0&&sessionStorage.setItem(e,JSON.stringify(this.q_get().concat(t)))},q_del:function(){try{return sessionStorage.removeItem(e)}catch(t){}}},c=function(){try{return null!=("undefined"!=typeof document&&null!==document?document.querySelector:void 0)&&null!=window.addEventListener&&null!=window.localStorage}catch(t){return!1}},u=function(){var t;try{return t="c-storage-check",localStorage.setItem(t,1),localStorage.removeItem(t),!0}catch(t){return!1}}}).call(this);
},{}],"jsonpack":[function(require,module,exports){
("undefined"!=typeof define&&define.amd?define:function(e,r){var n=r();if("undefined"!=typeof exports)for(var t in n)exports[t]=n[t];else window.jsonpack=n})([],function(){var e=function(e){return"string"!=typeof e?e:e.replace(/[\+ \|\^\%]/g,function(e){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25","~":"%7E"}[e]})},r=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%","%7E":"~"}[e]})},n=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},t=function(e){return parseInt(e,36)},i=Array.prototype.indexOf||function(e,r){for(var n=r||0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1};return{JSON:JSON,pack:function(r,t){t=t||{},r="string"==typeof r?this.JSON.parse(r):r;var s={strings:[],integers:[],floats:[]},f=function r(t){var f,u=typeof t;if(null===t)return{type:"null",index:-3};if(void 0===t)return{type:"undefined",index:-5};if(t instanceof Array){for(var a=["@"],o=0;o<t.length;o++)a.push(r(t[o]));return a}if("object"===u){for(var p in a=["$"],t)t.hasOwnProperty(p)&&(a.push(r(p)),a.push(r(t[p])));return a}if(""===t)return{type:"empty",index:-4};if("string"===u)return-1==(f=i.call(s.strings,t))&&(s.strings.push(e(t)),f=s.strings.length-1),{type:"strings",index:f};if("number"===u&&t%1==0)return-1==(f=i.call(s.integers,t))&&(s.integers.push(n(t)),f=s.integers.length-1),{type:"integers",index:f};if("number"===u)return-1==(f=i.call(s.floats,t))&&(s.floats.push(t),f=s.floats.length-1),{type:"floats",index:f};if("boolean"===u)return{type:"boolean",index:t?-1:-2};throw Error("Unpack type "+typeof t)}(r),u=s.strings.length,a=s.integers.length,o=(s.floats.length,s.strings.join("|"));return o+="^"+s.integers.join("|"),o+="^"+s.floats.join("|"),o+="^"+function e(r){if(r instanceof Array){for(var t=r.shift(),i=0;i<r.length;i++)t+=e(r[i])+"|";return("|"===t[t.length-1]?t.slice(0,-1):t)+"]"}var s=r.type,f=r.index;if("strings"===s)return n(f);if("integers"===s)return n(u+f);if("floats"===s)return n(u+a+f);if("boolean"===s)return r.index;if("null"===s)return-3;if("undefined"===s)return-5;if("empty"===s)return-4;throw new TypeError("The item is alien!")}(f),t.debug?{dictionary:s,ast:f,packed:o}:o},unpack:function(e,n){if("string"!=typeof e)return e;n=n||{};var i=e.split("^"),s=[],f=i[0];if(""!==f){f=f.split("|");for(var u=0;u<f.length;u++)s.push(r(f[u]))}if(""!==(f=i[1]))for(f=f.split("|"),u=0;u<f.length;u++)s.push(t(f[u]));if(""!==(f=i[2]))for(f=f.split("|"),u=0;u<f.length;u++)s.push(parseFloat(f[u]));f=void 0;var a="",o=[];for(u=0;u<i[3].length;u++){var p=i[3][u];"|"===p||"$"===p||"@"===p||"]"===p?(a&&(o.push(t(a)),a=""),"|"!==p&&o.push(p)):a+=p}var l=o.length,h=0;return function e(){var r=o[h++];if("@"===r){for(var n=[];l>h;h++){if("]"===(t=o[h]))return n;if("@"===t||"$"===t)n.push(e());else switch(t){case-1:n.push(!0);break;case-2:n.push(!1);break;case-3:n.push(null);break;case-5:n.push(void 0);break;case-4:n.push("");break;default:n.push(s[t])}}return n}if("$"===r){for(n={};l>h;h++){var t,i=o[h];if("]"===i)return n;if(i=-4===i?"":s[i],"@"===(t=o[++h])||"$"===t)n[i]=e();else switch(t){case-1:n[i]=!0;break;case-2:n[i]=!1;break;case-3:n[i]=null;break;case-5:n[i]=void 0;break;case-4:n[i]="";break;default:n[i]=s[t]}}return n}throw new TypeError("Bad token "+r+" isn't a type")}()}}});
},{}],"loader":[function(require,module,exports){
(function(){exports.Loader=function(){function n(){}return n}()}).call(this);

},{}],"log-styles":[function(require,module,exports){
(function(){var o;o={e:"color:#D50000;",a:"color:#2962FF;",g:"color:#2E7D32;",t:"color:#359996;",s:"color:#AA00FF;",x:"color:#6A1B9A;",ct:"color:#546E7A;",cf:"color:#607D8B;",q:"color:#FF6D00;",i:"color:#00BFA5;"},exports.logger=function(c,l){return console.log("%c"+c,o[l])}}).call(this);
},{}]},{},[3,11,12,13]);
;
var run = (typeof window != 'undefined' && typeof window.name === 'string' && window.name != '__c-wa-ipe') && !( true && (window.location.search.indexOf('__c-token') >= 0) );
if (window.Conductrics && window.Conductrics.express == false) { run = false }
if (run) { new Conductrics.ClientApi({"entry":"wax","debug":false,"dataLayer":"conductricsDataLayer","globalEvents":true}).run(); }}() )