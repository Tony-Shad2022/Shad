"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[921],{65393:function(e,t,n){n.d(t,{ZP:function(){return y},Pb:function(){return w},E4:function(){return j}});n(58109),n(95566),n(68438),n(83464),n(19496);var r=n(4942),i=(n(9867),n(7231),n(92972)),a=n.n(i),o=n(29439),s=n(21914),c=n(83949),l=n(26574),u=n(14507),d=n.n(u),m=n(10947),b=n(56552);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=(0,s.useState)(!1),n=(0,o.Z)(t,2),r=n[0],i=n[1];(0,s.useEffect)((function(){i(!1)}),[e.path]);var a=(0,s.useCallback)((function(){i(!r)}),[r]),u="",p=e.items,v=d()("moreItemsNav",{open:r,external:e.isExternalHeader});return p&&void 0!==p&&(u=p.map((function(t,n){var r={item:t,key:"morenav-".concat(n),path:e.path,className:"moreNavListItem",linkClassName:"moreNavLink"};return(0,b.jsx)(m.Z,f(f({},r),{},{toggleMenuVisibility:a}))}))),(0,b.jsxs)("div",{className:v,children:[function(){var t=e.allHidden?"Sections":"More";e.moreButtonLabel&&(t=e.moreButtonLabel);var n="".concat(t," from ").concat(e.baseNavSection," ").concat(e.subSection?e.subSection:"");if(e.isExternalHeader){var i="//www.cbc.ca/".concat(e.baseNavSection);return(0,b.jsxs)(l.C,{className:"navLink subNavLink",url:i,external:!0,children:[" ",t," \xbb"," "]})}return(0,b.jsxs)("button",{className:"moreButton","aria-label":n,"aria-expanded":r,"aria-controls":"more-items-list",onClick:a,children:[t," ",(0,b.jsx)(c.ZP,{type:"chevron"})]})}(),(0,b.jsx)("ul",{className:"moreItemsList",id:"more-items-list","aria-hidden":!r,children:u})]})};v.propTypes={baseNavSection:a().string.isRequired,subSection:a().string.isRequired,allHidden:a().bool,moreButtonLabel:a().string,isExternalHeader:a().bool},v.defaultProps={baseNavSection:"",subSection:"",allHidden:!1,moreButtonLabel:"",isExternalHeader:!1};var g=v,h=n(75564);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e,t){var n=t.value,r=t.index,i=t.isVisible,a={item:n,index:r,className:d()("subNavListItem",{standAlone:void 0!==t.standAlone,hidden:!i}),linkClassName:d()("subNavLink",{firstItem:0===r}),path:e.path,isExternalHeader:e.isExternalHeader};return(0,b.jsx)(m.Z,N({},a),"responsive-".concat(r))},w=function(e,t,n,r){var i={items:t,baseNavSection:e.baseNavSection,subSection:e.subSection,path:e.path,allHidden:r,moreButtonLabel:e.moreButtonLabel,isExternalHeader:e.isExternalHeader},a=d()("subNavListItem","moreNavTrigger",{active:n&&t&&t.length});return(0,b.jsx)("li",{className:a,children:(0,b.jsx)(g,N({},i))})},S=function(e){var t=(0,h.d)(e.items,e.path,{collapseOnMobile:e.collapseOnMobile}),n=t.assignRef,r=(0,t.getHiddenItemsCount)(),i="",a="viewportSmall"===e.viewport,o=a?e.items:null,s=0,c=!0;e.items&&!a&&(s=e.items.length-r,o=e.items.slice(s,e.items.length),i=e.items.map((function(t,n){return r&&(c=n<s),j(e,{value:t,index:n,isVisible:c})})));var l=d()("responsiveNav subNavList",e.className,{allHidden:a||!s}),u=e.gemDepartment?(0,b.jsx)("li",{className:"gemWrapper subNavListItem",children:e.gemDepartment}):null;return(0,b.jsxs)("ul",{className:l,ref:function(e){return n(e)},children:[u,i,w(e,o,r,a)]})};S.propTypes={items:a().array,baseNavSection:a().string.isRequired,subSection:a().string.isRequired,path:a().string,showLogo:a().bool,className:a().string,viewport:a().string,collapseOnMobile:a().bool,gemDepartment:a().object,moreButtonLabel:a().string,isExternalHeader:a().bool},S.defaultProps={items:null,baseNavSection:"",subSection:"",path:"",showLogo:!1,className:"",viewport:"",collapseOnMobile:!0,gemDepartment:null,moreButtonLabel:"",isExternalHeader:!1};var y=S},75564:function(e,t,n){n.d(t,{d:function(){return o}});var r=n(29439),i=n(21914),a=n(79532),o=function(e,t){var n,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=null===(n=s.collapseOnMobile)||void 0===n||n,l=null!==(o=s.usingRightSideNav)&&void 0!==o&&o,u=(0,i.useState)(0),d=(0,r.Z)(u,2),m=d[0],b=d[1],p=(0,i.useRef)({domNode:null,callback:v,isInDOM:!1,windowWidth:0,timeoutID:null,wallpaperWidth:0});(0,i.useEffect)((function(){return p.current.isInDOM=!0,p.current.domNode&&a.ZP.registerResizeObject(p.current),function(){p.current&&(p.current.isInDOM=!1,a.ZP.unregisterResizeObject(p.current),window.cancelAnimationFrame(p.current.timeoutID))}}),[]),(0,i.useEffect)((function(){v(0,{usingRightSideNav:l})}),[t,e]),(0,i.useEffect)((function(){p.current.callback=function(){return v(0,{usingRightSideNav:l})}}),[m]);var f=function(e){p.current.domNode=e};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.usingRightSideNav,r=void 0!==n&&n;e=p.current.wallpaperWidth>0?p.current.wallpaperWidth:document.documentElement.clientWidth,p.current.timeoutID=window.requestAnimationFrame((function(){var t=p.current.domNode;if(t&&p.current.isInDOM&&t.offsetWidth){var n=0;r&&(n=t.children[t.children.length-1].offsetWidth);var i=a.ZP.calculateHiddenItems(t,c,e,n);m!==i&&b(i),p.current.windowWidth=e}}))}return{assignRef:f,getHiddenItemsCount:function(){return m}}}}}]);